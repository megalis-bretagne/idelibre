/**
 * @fileoverview added by tsickle
 * Generated from: lib/component/timepicker/timepicker.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, ElementRef, forwardRef, HostBinding, Input, Renderer2, ViewChild } from '@angular/core';
import { animate, animateChild, group, query, state, style, transition, trigger } from '@angular/animations';
import { NG_VALUE_ACCESSOR } from '@angular/forms';
export class TimepickerComponent {
    /**
     * @param {?} el
     * @param {?} renderer2
     */
    constructor(el, renderer2) {
        this.el = el;
        this.renderer2 = renderer2;
        this.hoursElements = [
            'subrot270',
            'rot300',
            'rot330',
            'rot0',
            'rot30',
            'rot60',
            'rot90',
            'rot120',
            'rot150',
            'rot180',
            'rot210',
            'rot240',
            'rot270',
            'subrot300',
            'subrot330',
            'subrot0',
            'subrot30',
            'subrot60',
            'subrot90',
            'subrot120',
            'subrot150',
            'subrot180',
            'subrot210',
            'subrot240',
        ];
        this.minutesElements = [
            'rot270',
            'rot300',
            'rot330',
            'rot0',
            'rot30',
            'rot60',
            'rot90',
            'rot120',
            'rot150',
            'rot180',
            'rot210',
            'rot240',
        ];
        this.hour = 0;
        this.minute = 0;
        this.rot = 0;
        this.showWrapper = false;
        this.updateMode = false;
        this.hourMode = true;
        this.disabled = false;
        this.classInputGroup = true;
        this.classInputGroupEndIcon = true;
        // noinspection JSUnusedLocalSymbols
        this.onChange = (/**
         * @param {?} time
         * @return {?}
         */
        (time) => {
            // tslint:disable-next-line:semicolon
        });
        this.onTouched = (/**
         * @return {?}
         */
        () => {
            // tslint:disable-next-line:semicolon
        });
    }
    /**
     * @return {?}
     */
    ngAfterViewInit() {
        this.moveAttributeToInput('id');
        this.moveAttributeToInput('tabindex');
        this.moveAttributeToInput('required', '');
        this.moveAttributeToInput('name', 'timepicker');
    }
    /**
     * @private
     * @param {?} attributeName
     * @param {?=} defaultValue
     * @return {?}
     */
    moveAttributeToInput(attributeName, defaultValue) {
        /** @type {?} */
        const attribute = this.el.nativeElement.getAttribute(attributeName);
        if (attribute !== null) {
            this.renderer2.removeAttribute(this.el.nativeElement, attributeName);
        }
        if (attribute !== null || defaultValue) {
            this.renderer2.setAttribute(this.input.nativeElement, attributeName, attribute ? attribute : defaultValue);
        }
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.validate();
    }
    /**
     * @param {?} num
     * @return {?}
     */
    pad(num) {
        return '00'.substring(0, 2 - ('' + num).length) + num;
    }
    /**
     * @return {?}
     */
    show() {
        this.showWrapper = true;
        setTimeout((/**
         * @return {?}
         */
        () => this.setHour(this.hour)), 0);
    }
    /**
     * @param {?} nR
     * @return {?}
     */
    rotateThis(nR) {
        /** @type {?} */
        let aR;
        this.rot = this.rot || 0; // if rot undefined or 0, make 0, else rot
        aR = this.rot % 360;
        if (aR < 0) {
            aR += 360;
        }
        if (aR < 180 && (nR > (aR + 180))) {
            this.rot -= 360;
        }
        if (aR >= 180 && (nR <= (aR - 180))) {
            this.rot += 360;
        }
        this.rot += (nR - aR);
        return 'rotate( ' + this.rot + 'deg )';
    }
    /**
     * @param {?} hour
     * @return {?}
     */
    setHour(hour) {
        /** @type {?} */
        let transform = this.rotateThis((hour * 30) % 360);
        if (hour === 0 || hour > 12) {
            transform += ' scale(0.6)';
        }
        this.el.nativeElement.getElementsByClassName('time-picker-clock-arrow')[0].style.transform = transform;
        this.hour = hour % 24;
    }
    /**
     * @param {?} minute
     * @return {?}
     */
    setMinute(minute) {
        this.minute = minute % 60;
        this.el.nativeElement.getElementsByClassName('time-picker-clock-arrow')[0].style.transform = this.rotateThis(minute / 5 * 30);
    }
    /**
     * @return {?}
     */
    mousedown() {
        this.updateMode = true;
    }
    /**
     * @return {?}
     */
    toHourMode() {
        this.hourMode = true;
        this.setHour(this.hour);
    }
    /**
     * @return {?}
     */
    toMinuteMode() {
        this.hourMode = false;
        this.setMinute(this.minute);
    }
    /**
     * @param {?} event
     * @return {?}
     */
    mouseup(event) {
        this.move(event);
        this.updateMode = false;
        if (this.hourMode) {
            this.toMinuteMode();
        }
    }
    /**
     * @param {?} event
     * @return {?}
     */
    move(event) {
        if (this.updateMode && event.target instanceof HTMLButtonElement) {
            /** @type {?} */
            const btn = event.target;
            /** @type {?} */
            const nodes = Array.prototype.slice.call(btn.parentElement.children);
            /** @type {?} */
            const index = nodes.indexOf(btn);
            if (this.hourMode) {
                this.setHour(index);
            }
            else {
                this.setMinute(index * 5);
            }
        }
    }
    /**
     * @return {?}
     */
    hide() {
        this.showWrapper = false;
        this.updateMode = false;
        this.hourMode = true;
    }
    /**
     * @return {?}
     */
    validate() {
        this.writeValue(this.pad(this.hour) + ':' + this.pad(this.minute));
        this.el.nativeElement.getElementsByTagName('input')[0].value = this.pad(this.hour) + ':' + this.pad(this.minute);
        this.hide();
    }
    /**
     * @param {?} $event
     * @return {?}
     */
    inputChange($event) {
        this.onChange($event.currentTarget.value);
    }
    /**
     * @param {?} fn
     * @return {?}
     */
    registerOnChange(fn) {
        this.onChange = fn;
    }
    /**
     * @param {?} fn
     * @return {?}
     */
    registerOnTouched(fn) {
        this.onTouched = fn;
    }
    /**
     * @param {?} isDisabled
     * @return {?}
     */
    setDisabledState(isDisabled) {
        this.disabled = isDisabled;
    }
    /**
     * @param {?} obj
     * @return {?}
     */
    writeValue(obj) {
        if (obj) {
            this.el.nativeElement.getElementsByTagName('input')[0].value = obj;
            if (typeof obj === 'string') {
                /** @type {?} */
                const time = obj.split(':');
                this.hour = +time[0];
                this.minute = +time[1];
            }
        }
        this.onChange(obj);
    }
}
TimepickerComponent.decorators = [
    { type: Component, args: [{
                selector: 'ls-timepicker',
                template: "<div class=\"wrapper\" *ngIf=\"showWrapper\" [@fadeInOut]>\n  <div class=\"shadow time-picker\" [@popOut]>\n    <div class=\"time-picker-header\">\n      <span [ngClass]=\"hourMode ? 'active' : ''\" class=\"pointer-event\"\n            (click)=\"this.toHourMode()\">{{pad(hour % 24)}}</span>\n      <span> : </span>\n      <span [ngClass]=\"hourMode ? '' : 'active'\" class=\"pointer-event\"\n            (click)=\"this.toMinuteMode()\">{{pad(minute % 60)}}</span>\n    </div>\n    <div class=\"time-picker-content\">\n      <div class=\"background\"></div>\n      <div class=\"clock\" (mousemove)=\"move($event)\" (mouseup)=\"mouseup($event)\" (mousedown)=\"mousedown()\">\n\n        <div class=\"time-picker-hour\" [ngClass]=\"hourMode ? 'active' : ''\">\n          <button *ngFor=\"let rot of hoursElements; let i = index\" class=\"{{rot}} hourglass-btn\"\n                  [ngClass]=\"i == hour ? 'active' : ''\">\n            {{i}}\n          </button>\n        </div>\n        <div class=\"time-picker-minute\" [ngClass]=\"hourMode ? '' : 'active'\">\n          <button *ngFor=\"let rot of minutesElements; let i = index\" class=\"{{rot}} hourglass-btn\"\n                  [ngClass]=\"i == (minute / 5) ? 'active' : ''\" (click)=\"setMinute(i * 5)\">\n            {{((i) * 5) % 60}}\n          </button>\n        </div>\n\n        <div class=\"time-picker-clock-origin\"></div>\n        <div class=\"time-picker-clock-arrow\"></div>\n      </div>\n    </div>\n    <div class=\"time-picker-footer\">\n      <button class=\"btn btn-outline-primary\" (click)=\"hide()\">Annuler</button>\n      <button class=\"btn btn-primary\" (click)=\"validate()\">OK</button>\n    </div>\n  </div>\n</div>\n\n<ng-container>\n  <input type=\"time\" #input class=\"ls-action-input form-control time-picker-input\"\n         (click)=\"show()\"\n         (change)=\"inputChange($event)\" (blur)=\"onTouched();\">\n  <span class=\"input-icon\" (click)=\"show()\">\n    <i class=\"far fa-clock\"></i>\n  </span>\n</ng-container>\n",
                providers: [{
                        provide: NG_VALUE_ACCESSOR,
                        useExisting: forwardRef((/**
                         * @return {?}
                         */
                        () => TimepickerComponent)),
                        multi: true
                    }],
                animations: [
                    trigger('fadeInOut', [
                        transition('void => *', [
                            style({
                                opacity: 0
                            }),
                            group([
                                animate(300, style({
                                    opacity: 1
                                })),
                                query('@popOut', animateChild())
                            ])
                        ]),
                        transition('* => void', [
                            style({
                                opacity: 1
                            }),
                            group([
                                animate(300, style({
                                    opacity: 0
                                })),
                                query('@popOut', animateChild())
                            ])
                        ]),
                    ]),
                    trigger('popOut', [
                        // ...
                        state('void', style({
                            transform: 'scale(0.6)'
                        })),
                        transition('void <=> *', animate(300)),
                    ])
                ],
                styles: [".form-group{position:relative}.input-icon{position:absolute;top:0;right:0;background-color:transparent;color:var(--ls-grey-500);cursor:pointer;height:99%;width:40px;border-radius:5px 0 0 5px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.input-icon:hover{color:var(--ls-grey-700)}.input-group-end-icon,:host.input-group-end-icon{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex}.input-group-end-icon input,:host.input-group-end-icon input{padding-right:36px}input.ls-action-input{cursor:pointer}.input-group.input-group-end-icon .input-icon,:host.input-group.input-group-end-icon .input-icon{z-index:3}.hourglass-btn{position:absolute;background-color:transparent;-webkit-transition:color .2s,background-color .2s;transition:color .2s,background-color .2s;cursor:pointer;width:35px;height:35px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:50%;z-index:1;border:none}.hourglass-btn.active,.hourglass-btn:hover{background-color:var(--ls-primary-500);color:#fff}.rot0{color:rgba(0,0,0,.8);-webkit-transform:translate3d(127px,130px,0) rotate(0) translate(115px) rotate(0);transform:translate3d(127px,130px,0) rotate(0) translate(115px) rotate(0)}.subrot0{color:rgba(0,0,0,.6);font-size:.8rem;-webkit-transform:translate3d(127px,130px,0) rotate(0) translate(70px) rotate(0);transform:translate3d(127px,130px,0) rotate(0) translate(70px) rotate(0)}.rot30{color:rgba(0,0,0,.8);-webkit-transform:translate3d(127px,130px,0) rotate(30deg) translate(115px) rotate(-30deg);transform:translate3d(127px,130px,0) rotate(30deg) translate(115px) rotate(-30deg)}.subrot30{color:rgba(0,0,0,.6);font-size:.8rem;-webkit-transform:translate3d(127px,130px,0) rotate(30deg) translate(70px) rotate(-30deg);transform:translate3d(127px,130px,0) rotate(30deg) translate(70px) rotate(-30deg)}.rot60{color:rgba(0,0,0,.8);-webkit-transform:translate3d(127px,130px,0) rotate(60deg) translate(115px) rotate(-60deg);transform:translate3d(127px,130px,0) rotate(60deg) translate(115px) rotate(-60deg)}.subrot60{color:rgba(0,0,0,.6);font-size:.8rem;-webkit-transform:translate3d(127px,130px,0) rotate(60deg) translate(70px) rotate(-60deg);transform:translate3d(127px,130px,0) rotate(60deg) translate(70px) rotate(-60deg)}.rot90{color:rgba(0,0,0,.8);-webkit-transform:translate3d(127px,130px,0) rotate(90deg) translate(115px) rotate(-90deg);transform:translate3d(127px,130px,0) rotate(90deg) translate(115px) rotate(-90deg)}.subrot90{color:rgba(0,0,0,.6);font-size:.8rem;-webkit-transform:translate3d(127px,130px,0) rotate(90deg) translate(70px) rotate(-90deg);transform:translate3d(127px,130px,0) rotate(90deg) translate(70px) rotate(-90deg)}.rot120{color:rgba(0,0,0,.8);-webkit-transform:translate3d(127px,130px,0) rotate(120deg) translate(115px) rotate(-120deg);transform:translate3d(127px,130px,0) rotate(120deg) translate(115px) rotate(-120deg)}.subrot120{color:rgba(0,0,0,.6);font-size:.8rem;-webkit-transform:translate3d(127px,130px,0) rotate(120deg) translate(70px) rotate(-120deg);transform:translate3d(127px,130px,0) rotate(120deg) translate(70px) rotate(-120deg)}.rot150{color:rgba(0,0,0,.8);-webkit-transform:translate3d(127px,130px,0) rotate(150deg) translate(115px) rotate(-150deg);transform:translate3d(127px,130px,0) rotate(150deg) translate(115px) rotate(-150deg)}.subrot150{color:rgba(0,0,0,.6);font-size:.8rem;-webkit-transform:translate3d(127px,130px,0) rotate(150deg) translate(70px) rotate(-150deg);transform:translate3d(127px,130px,0) rotate(150deg) translate(70px) rotate(-150deg)}.rot180{color:rgba(0,0,0,.8);-webkit-transform:translate3d(127px,130px,0) rotate(180deg) translate(115px) rotate(-180deg);transform:translate3d(127px,130px,0) rotate(180deg) translate(115px) rotate(-180deg)}.subrot180{color:rgba(0,0,0,.6);font-size:.8rem;-webkit-transform:translate3d(127px,130px,0) rotate(180deg) translate(70px) rotate(-180deg);transform:translate3d(127px,130px,0) rotate(180deg) translate(70px) rotate(-180deg)}.rot210{color:rgba(0,0,0,.8);-webkit-transform:translate3d(127px,130px,0) rotate(210deg) translate(115px) rotate(-210deg);transform:translate3d(127px,130px,0) rotate(210deg) translate(115px) rotate(-210deg)}.subrot210{color:rgba(0,0,0,.6);font-size:.8rem;-webkit-transform:translate3d(127px,130px,0) rotate(210deg) translate(70px) rotate(-210deg);transform:translate3d(127px,130px,0) rotate(210deg) translate(70px) rotate(-210deg)}.rot240{color:rgba(0,0,0,.8);-webkit-transform:translate3d(127px,130px,0) rotate(240deg) translate(115px) rotate(-240deg);transform:translate3d(127px,130px,0) rotate(240deg) translate(115px) rotate(-240deg)}.subrot240{color:rgba(0,0,0,.6);font-size:.8rem;-webkit-transform:translate3d(127px,130px,0) rotate(240deg) translate(70px) rotate(-240deg);transform:translate3d(127px,130px,0) rotate(240deg) translate(70px) rotate(-240deg)}.rot270{color:rgba(0,0,0,.8);-webkit-transform:translate3d(127px,130px,0) rotate(270deg) translate(115px) rotate(-270deg);transform:translate3d(127px,130px,0) rotate(270deg) translate(115px) rotate(-270deg)}.subrot270{color:rgba(0,0,0,.6);font-size:.8rem;-webkit-transform:translate3d(127px,130px,0) rotate(270deg) translate(70px) rotate(-270deg);transform:translate3d(127px,130px,0) rotate(270deg) translate(70px) rotate(-270deg)}.rot300{color:rgba(0,0,0,.8);-webkit-transform:translate3d(127px,130px,0) rotate(300deg) translate(115px) rotate(-300deg);transform:translate3d(127px,130px,0) rotate(300deg) translate(115px) rotate(-300deg)}.subrot300{color:rgba(0,0,0,.6);font-size:.8rem;-webkit-transform:translate3d(127px,130px,0) rotate(300deg) translate(70px) rotate(-300deg);transform:translate3d(127px,130px,0) rotate(300deg) translate(70px) rotate(-300deg)}.rot330{color:rgba(0,0,0,.8);-webkit-transform:translate3d(127px,130px,0) rotate(330deg) translate(115px) rotate(-330deg);transform:translate3d(127px,130px,0) rotate(330deg) translate(115px) rotate(-330deg)}.subrot330{color:rgba(0,0,0,.6);font-size:.8rem;-webkit-transform:translate3d(127px,130px,0) rotate(330deg) translate(70px) rotate(-330deg);transform:translate3d(127px,130px,0) rotate(330deg) translate(70px) rotate(-330deg)}.rot360{color:rgba(0,0,0,.8);-webkit-transform:translate3d(127px,130px,0) rotate(360deg) translate(115px) rotate(-360deg);transform:translate3d(127px,130px,0) rotate(360deg) translate(115px) rotate(-360deg)}.subrot360{color:rgba(0,0,0,.6);font-size:.8rem;-webkit-transform:translate3d(127px,130px,0) rotate(360deg) translate(70px) rotate(-360deg);transform:translate3d(127px,130px,0) rotate(360deg) translate(70px) rotate(-360deg)}.time-picker{background-color:#fff;width:300px}.time-picker>*{min-height:88px;position:relative}.time-picker-clock-origin{width:6px;height:6px;border-radius:50%;position:absolute;left:50%;top:50%;background:var(--ls-primary-500);margin-left:-3px;margin-top:-3px}.time-picker-clock-arrow{width:2px;height:41%;position:absolute;left:0;top:27px;right:0;margin:auto;-webkit-transform-origin:bottom;-ms-transform-origin:bottom;transform-origin:bottom;background:var(--ls-primary-500);-webkit-transition:-webkit-transform .2s;transition:transform .2s;transition:transform .2s,-webkit-transform .2s}.time-picker-hour,.time-picker-minute{position:relative;z-index:1;opacity:0;-webkit-transform:translateY(130px) scale(0);-ms-transform:translateY(130px) scale(0);transform:translateY(130px) scale(0);-webkit-transition:opacity .2s,-webkit-transform .2s;transition:opacity .2s,transform .2s,-webkit-transform .2s}.time-picker-hour.active,.time-picker-minute.active{opacity:1;-webkit-transform:translateY(0) scale(1);-ms-transform:translateY(0) scale(1);transform:translateY(0) scale(1)}.time-picker-content{height:300px;width:290px;margin:10px 5px 5px}.time-picker-content .background{position:absolute;width:100%;height:100%;border-radius:50%;background:var(--ls-primary-100)}.time-picker-header{background-color:var(--ls-primary-500);color:#fff;font-size:3.2rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.time-picker-header *{opacity:.4}.time-picker-header .active{opacity:1}.time-picker-header .pointer-event{cursor:pointer}.time-picker-footer{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.wrapper{position:fixed;top:0;bottom:0;left:0;right:0;font-family:Roboto,sans-serif;z-index:9999;background:rgba(0,0,0,.3);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}"]
            }] }
];
/** @nocollapse */
TimepickerComponent.ctorParameters = () => [
    { type: ElementRef },
    { type: Renderer2 }
];
TimepickerComponent.propDecorators = {
    disabled: [{ type: Input }],
    input: [{ type: ViewChild, args: ['input',] }],
    classInputGroup: [{ type: HostBinding, args: ['class.input-group',] }],
    classInputGroupEndIcon: [{ type: HostBinding, args: ['class.input-group-end-icon',] }]
};
if (false) {
    /** @type {?} */
    TimepickerComponent.prototype.hoursElements;
    /** @type {?} */
    TimepickerComponent.prototype.minutesElements;
    /** @type {?} */
    TimepickerComponent.prototype.hour;
    /** @type {?} */
    TimepickerComponent.prototype.minute;
    /** @type {?} */
    TimepickerComponent.prototype.rot;
    /** @type {?} */
    TimepickerComponent.prototype.showWrapper;
    /** @type {?} */
    TimepickerComponent.prototype.updateMode;
    /** @type {?} */
    TimepickerComponent.prototype.hourMode;
    /** @type {?} */
    TimepickerComponent.prototype.disabled;
    /** @type {?} */
    TimepickerComponent.prototype.input;
    /** @type {?} */
    TimepickerComponent.prototype.classInputGroup;
    /** @type {?} */
    TimepickerComponent.prototype.classInputGroupEndIcon;
    /** @type {?} */
    TimepickerComponent.prototype.onChange;
    /** @type {?} */
    TimepickerComponent.prototype.onTouched;
    /**
     * @type {?}
     * @private
     */
    TimepickerComponent.prototype.el;
    /**
     * @type {?}
     * @private
     */
    TimepickerComponent.prototype.renderer2;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGltZXBpY2tlci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AbGlicmljaWVsL2xzLWNvbXBvc2FudHMvIiwic291cmNlcyI6WyJsaWIvY29tcG9uZW50L3RpbWVwaWNrZXIvdGltZXBpY2tlci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBRUwsU0FBUyxFQUNULFVBQVUsRUFDVixVQUFVLEVBQ1YsV0FBVyxFQUNYLEtBQUssRUFFTCxTQUFTLEVBQ1QsU0FBUyxFQUNWLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBQyxPQUFPLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUUsT0FBTyxFQUFDLE1BQU0scUJBQXFCLENBQUM7QUFDM0csT0FBTyxFQUF1QixpQkFBaUIsRUFBQyxNQUFNLGdCQUFnQixDQUFDO0FBMkN2RSxNQUFNLE9BQU8sbUJBQW1COzs7OztJQTREOUIsWUFBb0IsRUFBYyxFQUFVLFNBQW9CO1FBQTVDLE9BQUUsR0FBRixFQUFFLENBQVk7UUFBVSxjQUFTLEdBQVQsU0FBUyxDQUFXO1FBMURoRSxrQkFBYSxHQUFHO1lBQ2QsV0FBVztZQUNYLFFBQVE7WUFDUixRQUFRO1lBQ1IsTUFBTTtZQUNOLE9BQU87WUFDUCxPQUFPO1lBQ1AsT0FBTztZQUNQLFFBQVE7WUFDUixRQUFRO1lBQ1IsUUFBUTtZQUNSLFFBQVE7WUFDUixRQUFRO1lBQ1IsUUFBUTtZQUVSLFdBQVc7WUFDWCxXQUFXO1lBQ1gsU0FBUztZQUNULFVBQVU7WUFDVixVQUFVO1lBQ1YsVUFBVTtZQUNWLFdBQVc7WUFDWCxXQUFXO1lBQ1gsV0FBVztZQUNYLFdBQVc7WUFDWCxXQUFXO1NBQ1osQ0FBQztRQUVGLG9CQUFlLEdBQUc7WUFDaEIsUUFBUTtZQUNSLFFBQVE7WUFDUixRQUFRO1lBQ1IsTUFBTTtZQUNOLE9BQU87WUFDUCxPQUFPO1lBQ1AsT0FBTztZQUNQLFFBQVE7WUFDUixRQUFRO1lBQ1IsUUFBUTtZQUNSLFFBQVE7WUFDUixRQUFRO1NBQ1QsQ0FBQztRQUVGLFNBQUksR0FBRyxDQUFDLENBQUM7UUFDVCxXQUFNLEdBQUcsQ0FBQyxDQUFDO1FBRVgsUUFBRyxHQUFHLENBQUMsQ0FBQztRQUVSLGdCQUFXLEdBQUcsS0FBSyxDQUFDO1FBQ3BCLGVBQVUsR0FBRyxLQUFLLENBQUM7UUFDbkIsYUFBUSxHQUFHLElBQUksQ0FBQztRQUVQLGFBQVEsR0FBRyxLQUFLLENBQUM7UUFHUSxvQkFBZSxHQUFHLElBQUksQ0FBQztRQUNkLDJCQUFzQixHQUFHLElBQUksQ0FBQzs7UUF1SHpFLGFBQVE7Ozs7UUFBRyxDQUFDLElBQVksRUFBRSxFQUFFO1lBQzFCLHFDQUFxQztRQUN2QyxDQUFDLEVBQUM7UUFFRixjQUFTOzs7UUFBRyxHQUFHLEVBQUU7WUFDZixxQ0FBcUM7UUFDdkMsQ0FBQyxFQUFDO0lBMUhGLENBQUM7Ozs7SUFFRCxlQUFlO1FBQ2IsSUFBSSxDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUN0QyxJQUFJLENBQUMsb0JBQW9CLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQzFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxNQUFNLEVBQUUsWUFBWSxDQUFDLENBQUM7SUFDbEQsQ0FBQzs7Ozs7OztJQUVPLG9CQUFvQixDQUFDLGFBQXFCLEVBQUUsWUFBcUI7O2NBQ2pFLFNBQVMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLGFBQWEsQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFDO1FBQ25FLElBQUksU0FBUyxLQUFLLElBQUksRUFBRTtZQUN0QixJQUFJLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLGFBQWEsRUFBRSxhQUFhLENBQUMsQ0FBQztTQUN0RTtRQUNELElBQUksU0FBUyxLQUFLLElBQUksSUFBSSxZQUFZLEVBQUU7WUFDdEMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLEVBQUUsYUFBYSxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQztTQUM1RztJQUNILENBQUM7Ozs7SUFFRCxRQUFRO1FBQ04sSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQ2xCLENBQUM7Ozs7O0lBRUQsR0FBRyxDQUFDLEdBQUc7UUFDTCxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsR0FBRyxHQUFHLENBQUM7SUFDeEQsQ0FBQzs7OztJQUVELElBQUk7UUFDRixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztRQUN4QixVQUFVOzs7UUFBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRSxDQUFDLENBQUMsQ0FBQztJQUMvQyxDQUFDOzs7OztJQUVELFVBQVUsQ0FBQyxFQUFFOztZQUNQLEVBQUU7UUFDTixJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsMENBQTBDO1FBQ3BFLEVBQUUsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUNwQixJQUFJLEVBQUUsR0FBRyxDQUFDLEVBQUU7WUFDVixFQUFFLElBQUksR0FBRyxDQUFDO1NBQ1g7UUFDRCxJQUFJLEVBQUUsR0FBRyxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLENBQUMsRUFBRTtZQUNqQyxJQUFJLENBQUMsR0FBRyxJQUFJLEdBQUcsQ0FBQztTQUNqQjtRQUNELElBQUksRUFBRSxJQUFJLEdBQUcsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsQ0FBQyxFQUFFO1lBQ25DLElBQUksQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDO1NBQ2pCO1FBQ0QsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztRQUN0QixPQUFPLFVBQVUsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLE9BQU8sQ0FBQztJQUN6QyxDQUFDOzs7OztJQUVELE9BQU8sQ0FBQyxJQUFJOztZQUNOLFNBQVMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQztRQUNsRCxJQUFJLElBQUksS0FBSyxDQUFDLElBQUksSUFBSSxHQUFHLEVBQUUsRUFBRTtZQUMzQixTQUFTLElBQUksYUFBYSxDQUFDO1NBQzVCO1FBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQyxhQUFhLENBQUMsc0JBQXNCLENBQUMseUJBQXlCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztRQUN2RyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7SUFDeEIsQ0FBQzs7Ozs7SUFFRCxTQUFTLENBQUMsTUFBTTtRQUNkLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxHQUFHLEVBQUUsQ0FBQztRQUMxQixJQUFJLENBQUMsRUFBRSxDQUFDLGFBQWEsQ0FBQyxzQkFBc0IsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQ2hJLENBQUM7Ozs7SUFFRCxTQUFTO1FBQ1AsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7SUFDekIsQ0FBQzs7OztJQUVELFVBQVU7UUFDUixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztRQUNyQixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMxQixDQUFDOzs7O0lBRUQsWUFBWTtRQUNWLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1FBQ3RCLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQzlCLENBQUM7Ozs7O0lBRUQsT0FBTyxDQUFDLEtBQUs7UUFDWCxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2pCLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO1FBQ3hCLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNqQixJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7U0FDckI7SUFDSCxDQUFDOzs7OztJQUVELElBQUksQ0FBQyxLQUFLO1FBQ1IsSUFBSSxJQUFJLENBQUMsVUFBVSxJQUFJLEtBQUssQ0FBQyxNQUFNLFlBQVksaUJBQWlCLEVBQUU7O2tCQUMxRCxHQUFHLEdBQXNCLEtBQUssQ0FBQyxNQUFNOztrQkFFckMsS0FBSyxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQzs7a0JBQzlELEtBQUssR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQztZQUNoQyxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7Z0JBQ2pCLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDckI7aUJBQU07Z0JBQ0wsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUM7YUFDM0I7U0FDRjtJQUNILENBQUM7Ozs7SUFFRCxJQUFJO1FBQ0YsSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUM7UUFDekIsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7UUFDeEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7SUFDdkIsQ0FBQzs7OztJQUVELFFBQVE7UUFDTixJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQ25FLElBQUksQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDakgsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2QsQ0FBQzs7Ozs7SUFFRCxXQUFXLENBQUMsTUFBTTtRQUNoQixJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDNUMsQ0FBQzs7Ozs7SUFXRCxnQkFBZ0IsQ0FBQyxFQUFPO1FBQ3RCLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO0lBQ3JCLENBQUM7Ozs7O0lBRUQsaUJBQWlCLENBQUMsRUFBTztRQUN2QixJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztJQUN0QixDQUFDOzs7OztJQUVELGdCQUFnQixDQUFDLFVBQW1CO1FBQ2xDLElBQUksQ0FBQyxRQUFRLEdBQUcsVUFBVSxDQUFDO0lBQzdCLENBQUM7Ozs7O0lBRUQsVUFBVSxDQUFDLEdBQVE7UUFDakIsSUFBSSxHQUFHLEVBQUU7WUFDUCxJQUFJLENBQUMsRUFBRSxDQUFDLGFBQWEsQ0FBQyxvQkFBb0IsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDO1lBQ25FLElBQUksT0FBTyxHQUFHLEtBQUssUUFBUSxFQUFFOztzQkFDckIsSUFBSSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDO2dCQUMzQixJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNyQixJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ3hCO1NBQ0Y7UUFDRCxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3JCLENBQUM7OztZQXhQRixTQUFTLFNBQUM7Z0JBQ1QsUUFBUSxFQUFFLGVBQWU7Z0JBQ3pCLDQrREFBMEM7Z0JBRTFDLFNBQVMsRUFBRSxDQUFDO3dCQUNWLE9BQU8sRUFBRSxpQkFBaUI7d0JBQzFCLFdBQVcsRUFBRSxVQUFVOzs7d0JBQUMsR0FBRyxFQUFFLENBQUMsbUJBQW1CLEVBQUM7d0JBQ2xELEtBQUssRUFBRSxJQUFJO3FCQUNaLENBQUM7Z0JBQ0YsVUFBVSxFQUFFO29CQUNWLE9BQU8sQ0FBQyxXQUFXLEVBQUU7d0JBQ25CLFVBQVUsQ0FBQyxXQUFXLEVBQUU7NEJBQ3RCLEtBQUssQ0FBQztnQ0FDSixPQUFPLEVBQUUsQ0FBQzs2QkFDWCxDQUFDOzRCQUNGLEtBQUssQ0FBQztnQ0FDSixPQUFPLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQztvQ0FDakIsT0FBTyxFQUFFLENBQUM7aUNBQ1gsQ0FBQyxDQUFDO2dDQUNILEtBQUssQ0FBQyxTQUFTLEVBQUUsWUFBWSxFQUFFLENBQUM7NkJBQ2pDLENBQUM7eUJBQUMsQ0FBQzt3QkFDTixVQUFVLENBQUMsV0FBVyxFQUFFOzRCQUN0QixLQUFLLENBQUM7Z0NBQ0osT0FBTyxFQUFFLENBQUM7NkJBQ1gsQ0FBQzs0QkFDRixLQUFLLENBQUM7Z0NBQ0osT0FBTyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUM7b0NBQ2pCLE9BQU8sRUFBRSxDQUFDO2lDQUNYLENBQUMsQ0FBQztnQ0FDSCxLQUFLLENBQUMsU0FBUyxFQUFFLFlBQVksRUFBRSxDQUFDOzZCQUNqQyxDQUFDO3lCQUFDLENBQUM7cUJBQ1AsQ0FBQztvQkFDRixPQUFPLENBQUMsUUFBUSxFQUFFO3dCQUNoQixNQUFNO3dCQUNOLEtBQUssQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDOzRCQUNsQixTQUFTLEVBQUUsWUFBWTt5QkFDeEIsQ0FBQyxDQUFDO3dCQUNILFVBQVUsQ0FBQyxZQUFZLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO3FCQUN2QyxDQUFDO2lCQUNIOzthQUNGOzs7O1lBbkRDLFVBQVU7WUFLVixTQUFTOzs7dUJBcUdSLEtBQUs7b0JBRUwsU0FBUyxTQUFDLE9BQU87OEJBQ2pCLFdBQVcsU0FBQyxtQkFBbUI7cUNBQy9CLFdBQVcsU0FBQyw0QkFBNEI7Ozs7SUF4RHpDLDRDQTBCRTs7SUFFRiw4Q0FhRTs7SUFFRixtQ0FBUzs7SUFDVCxxQ0FBVzs7SUFFWCxrQ0FBUTs7SUFFUiwwQ0FBb0I7O0lBQ3BCLHlDQUFtQjs7SUFDbkIsdUNBQWdCOztJQUVoQix1Q0FBMEI7O0lBRTFCLG9DQUEwQjs7SUFDMUIsOENBQXlEOztJQUN6RCxxREFBeUU7O0lBdUh6RSx1Q0FFRTs7SUFFRix3Q0FFRTs7Ozs7SUEzSFUsaUNBQXNCOzs7OztJQUFFLHdDQUE0QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEFmdGVyVmlld0luaXQsXG4gIENvbXBvbmVudCxcbiAgRWxlbWVudFJlZixcbiAgZm9yd2FyZFJlZixcbiAgSG9zdEJpbmRpbmcsXG4gIElucHV0LFxuICBPbkluaXQsXG4gIFJlbmRlcmVyMixcbiAgVmlld0NoaWxkXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHthbmltYXRlLCBhbmltYXRlQ2hpbGQsIGdyb3VwLCBxdWVyeSwgc3RhdGUsIHN0eWxlLCB0cmFuc2l0aW9uLCB0cmlnZ2VyfSBmcm9tICdAYW5ndWxhci9hbmltYXRpb25zJztcbmltcG9ydCB7Q29udHJvbFZhbHVlQWNjZXNzb3IsIE5HX1ZBTFVFX0FDQ0VTU09SfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2xzLXRpbWVwaWNrZXInLFxuICB0ZW1wbGF0ZVVybDogJy4vdGltZXBpY2tlci5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL3RpbWVwaWNrZXIuY29tcG9uZW50LnNjc3MnXSxcbiAgcHJvdmlkZXJzOiBbe1xuICAgIHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLFxuICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IFRpbWVwaWNrZXJDb21wb25lbnQpLFxuICAgIG11bHRpOiB0cnVlXG4gIH1dLFxuICBhbmltYXRpb25zOiBbXG4gICAgdHJpZ2dlcignZmFkZUluT3V0JywgW1xuICAgICAgdHJhbnNpdGlvbigndm9pZCA9PiAqJywgW1xuICAgICAgICBzdHlsZSh7XG4gICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICB9KSxcbiAgICAgICAgZ3JvdXAoW1xuICAgICAgICAgIGFuaW1hdGUoMzAwLCBzdHlsZSh7XG4gICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgICAgfSkpLFxuICAgICAgICAgIHF1ZXJ5KCdAcG9wT3V0JywgYW5pbWF0ZUNoaWxkKCkpXG4gICAgICAgIF0pXSksXG4gICAgICB0cmFuc2l0aW9uKCcqID0+IHZvaWQnLCBbXG4gICAgICAgIHN0eWxlKHtcbiAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgIH0pLFxuICAgICAgICBncm91cChbXG4gICAgICAgICAgYW5pbWF0ZSgzMDAsIHN0eWxlKHtcbiAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgICB9KSksXG4gICAgICAgICAgcXVlcnkoJ0Bwb3BPdXQnLCBhbmltYXRlQ2hpbGQoKSlcbiAgICAgICAgXSldKSxcbiAgICBdKSxcbiAgICB0cmlnZ2VyKCdwb3BPdXQnLCBbXG4gICAgICAvLyAuLi5cbiAgICAgIHN0YXRlKCd2b2lkJywgc3R5bGUoe1xuICAgICAgICB0cmFuc2Zvcm06ICdzY2FsZSgwLjYpJ1xuICAgICAgfSkpLFxuICAgICAgdHJhbnNpdGlvbigndm9pZCA8PT4gKicsIGFuaW1hdGUoMzAwKSksXG4gICAgXSlcbiAgXSxcbn0pXG5leHBvcnQgY2xhc3MgVGltZXBpY2tlckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgQWZ0ZXJWaWV3SW5pdCwgQ29udHJvbFZhbHVlQWNjZXNzb3Ige1xuXG4gIGhvdXJzRWxlbWVudHMgPSBbXG4gICAgJ3N1YnJvdDI3MCcsXG4gICAgJ3JvdDMwMCcsXG4gICAgJ3JvdDMzMCcsXG4gICAgJ3JvdDAnLFxuICAgICdyb3QzMCcsXG4gICAgJ3JvdDYwJyxcbiAgICAncm90OTAnLFxuICAgICdyb3QxMjAnLFxuICAgICdyb3QxNTAnLFxuICAgICdyb3QxODAnLFxuICAgICdyb3QyMTAnLFxuICAgICdyb3QyNDAnLFxuICAgICdyb3QyNzAnLFxuXG4gICAgJ3N1YnJvdDMwMCcsXG4gICAgJ3N1YnJvdDMzMCcsXG4gICAgJ3N1YnJvdDAnLFxuICAgICdzdWJyb3QzMCcsXG4gICAgJ3N1YnJvdDYwJyxcbiAgICAnc3Vicm90OTAnLFxuICAgICdzdWJyb3QxMjAnLFxuICAgICdzdWJyb3QxNTAnLFxuICAgICdzdWJyb3QxODAnLFxuICAgICdzdWJyb3QyMTAnLFxuICAgICdzdWJyb3QyNDAnLFxuICBdO1xuXG4gIG1pbnV0ZXNFbGVtZW50cyA9IFtcbiAgICAncm90MjcwJyxcbiAgICAncm90MzAwJyxcbiAgICAncm90MzMwJyxcbiAgICAncm90MCcsXG4gICAgJ3JvdDMwJyxcbiAgICAncm90NjAnLFxuICAgICdyb3Q5MCcsXG4gICAgJ3JvdDEyMCcsXG4gICAgJ3JvdDE1MCcsXG4gICAgJ3JvdDE4MCcsXG4gICAgJ3JvdDIxMCcsXG4gICAgJ3JvdDI0MCcsXG4gIF07XG5cbiAgaG91ciA9IDA7XG4gIG1pbnV0ZSA9IDA7XG5cbiAgcm90ID0gMDtcblxuICBzaG93V3JhcHBlciA9IGZhbHNlO1xuICB1cGRhdGVNb2RlID0gZmFsc2U7XG4gIGhvdXJNb2RlID0gdHJ1ZTtcblxuICBASW5wdXQoKSBkaXNhYmxlZCA9IGZhbHNlO1xuXG4gIEBWaWV3Q2hpbGQoJ2lucHV0JykgaW5wdXQ7XG4gIEBIb3N0QmluZGluZygnY2xhc3MuaW5wdXQtZ3JvdXAnKSBjbGFzc0lucHV0R3JvdXAgPSB0cnVlO1xuICBASG9zdEJpbmRpbmcoJ2NsYXNzLmlucHV0LWdyb3VwLWVuZC1pY29uJykgY2xhc3NJbnB1dEdyb3VwRW5kSWNvbiA9IHRydWU7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBlbDogRWxlbWVudFJlZiwgcHJpdmF0ZSByZW5kZXJlcjI6IFJlbmRlcmVyMikge1xuICB9XG5cbiAgbmdBZnRlclZpZXdJbml0KCk6IHZvaWQge1xuICAgIHRoaXMubW92ZUF0dHJpYnV0ZVRvSW5wdXQoJ2lkJyk7XG4gICAgdGhpcy5tb3ZlQXR0cmlidXRlVG9JbnB1dCgndGFiaW5kZXgnKTtcbiAgICB0aGlzLm1vdmVBdHRyaWJ1dGVUb0lucHV0KCdyZXF1aXJlZCcsICcnKTtcbiAgICB0aGlzLm1vdmVBdHRyaWJ1dGVUb0lucHV0KCduYW1lJywgJ3RpbWVwaWNrZXInKTtcbiAgfVxuXG4gIHByaXZhdGUgbW92ZUF0dHJpYnV0ZVRvSW5wdXQoYXR0cmlidXRlTmFtZTogc3RyaW5nLCBkZWZhdWx0VmFsdWU/OiBzdHJpbmcpIHtcbiAgICBjb25zdCBhdHRyaWJ1dGUgPSB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgIGlmIChhdHRyaWJ1dGUgIT09IG51bGwpIHtcbiAgICAgIHRoaXMucmVuZGVyZXIyLnJlbW92ZUF0dHJpYnV0ZSh0aGlzLmVsLm5hdGl2ZUVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUpO1xuICAgIH1cbiAgICBpZiAoYXR0cmlidXRlICE9PSBudWxsIHx8IGRlZmF1bHRWYWx1ZSkge1xuICAgICAgdGhpcy5yZW5kZXJlcjIuc2V0QXR0cmlidXRlKHRoaXMuaW5wdXQubmF0aXZlRWxlbWVudCwgYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlID8gYXR0cmlidXRlIDogZGVmYXVsdFZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLnZhbGlkYXRlKCk7XG4gIH1cblxuICBwYWQobnVtKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJzAwJy5zdWJzdHJpbmcoMCwgMiAtICgnJyArIG51bSkubGVuZ3RoKSArIG51bTtcbiAgfVxuXG4gIHNob3coKSB7XG4gICAgdGhpcy5zaG93V3JhcHBlciA9IHRydWU7XG4gICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnNldEhvdXIodGhpcy5ob3VyKSwgMCk7XG4gIH1cblxuICByb3RhdGVUaGlzKG5SKSB7XG4gICAgbGV0IGFSO1xuICAgIHRoaXMucm90ID0gdGhpcy5yb3QgfHwgMDsgLy8gaWYgcm90IHVuZGVmaW5lZCBvciAwLCBtYWtlIDAsIGVsc2Ugcm90XG4gICAgYVIgPSB0aGlzLnJvdCAlIDM2MDtcbiAgICBpZiAoYVIgPCAwKSB7XG4gICAgICBhUiArPSAzNjA7XG4gICAgfVxuICAgIGlmIChhUiA8IDE4MCAmJiAoblIgPiAoYVIgKyAxODApKSkge1xuICAgICAgdGhpcy5yb3QgLT0gMzYwO1xuICAgIH1cbiAgICBpZiAoYVIgPj0gMTgwICYmIChuUiA8PSAoYVIgLSAxODApKSkge1xuICAgICAgdGhpcy5yb3QgKz0gMzYwO1xuICAgIH1cbiAgICB0aGlzLnJvdCArPSAoblIgLSBhUik7XG4gICAgcmV0dXJuICdyb3RhdGUoICcgKyB0aGlzLnJvdCArICdkZWcgKSc7XG4gIH1cblxuICBzZXRIb3VyKGhvdXIpIHtcbiAgICBsZXQgdHJhbnNmb3JtID0gdGhpcy5yb3RhdGVUaGlzKChob3VyICogMzApICUgMzYwKTtcbiAgICBpZiAoaG91ciA9PT0gMCB8fCBob3VyID4gMTIpIHtcbiAgICAgIHRyYW5zZm9ybSArPSAnIHNjYWxlKDAuNiknO1xuICAgIH1cbiAgICB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndGltZS1waWNrZXItY2xvY2stYXJyb3cnKVswXS5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgdGhpcy5ob3VyID0gaG91ciAlIDI0O1xuICB9XG5cbiAgc2V0TWludXRlKG1pbnV0ZSkge1xuICAgIHRoaXMubWludXRlID0gbWludXRlICUgNjA7XG4gICAgdGhpcy5lbC5uYXRpdmVFbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3RpbWUtcGlja2VyLWNsb2NrLWFycm93JylbMF0uc3R5bGUudHJhbnNmb3JtID0gdGhpcy5yb3RhdGVUaGlzKG1pbnV0ZSAvIDUgKiAzMCk7XG4gIH1cblxuICBtb3VzZWRvd24oKSB7XG4gICAgdGhpcy51cGRhdGVNb2RlID0gdHJ1ZTtcbiAgfVxuXG4gIHRvSG91ck1vZGUoKSB7XG4gICAgdGhpcy5ob3VyTW9kZSA9IHRydWU7XG4gICAgdGhpcy5zZXRIb3VyKHRoaXMuaG91cik7XG4gIH1cblxuICB0b01pbnV0ZU1vZGUoKSB7XG4gICAgdGhpcy5ob3VyTW9kZSA9IGZhbHNlO1xuICAgIHRoaXMuc2V0TWludXRlKHRoaXMubWludXRlKTtcbiAgfVxuXG4gIG1vdXNldXAoZXZlbnQpIHtcbiAgICB0aGlzLm1vdmUoZXZlbnQpO1xuICAgIHRoaXMudXBkYXRlTW9kZSA9IGZhbHNlO1xuICAgIGlmICh0aGlzLmhvdXJNb2RlKSB7XG4gICAgICB0aGlzLnRvTWludXRlTW9kZSgpO1xuICAgIH1cbiAgfVxuXG4gIG1vdmUoZXZlbnQpIHtcbiAgICBpZiAodGhpcy51cGRhdGVNb2RlICYmIGV2ZW50LnRhcmdldCBpbnN0YW5jZW9mIEhUTUxCdXR0b25FbGVtZW50KSB7XG4gICAgICBjb25zdCBidG46IEhUTUxCdXR0b25FbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xuXG4gICAgICBjb25zdCBub2RlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGJ0bi5wYXJlbnRFbGVtZW50LmNoaWxkcmVuKTtcbiAgICAgIGNvbnN0IGluZGV4ID0gbm9kZXMuaW5kZXhPZihidG4pO1xuICAgICAgaWYgKHRoaXMuaG91ck1vZGUpIHtcbiAgICAgICAgdGhpcy5zZXRIb3VyKGluZGV4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0TWludXRlKGluZGV4ICogNSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGlkZSgpIHtcbiAgICB0aGlzLnNob3dXcmFwcGVyID0gZmFsc2U7XG4gICAgdGhpcy51cGRhdGVNb2RlID0gZmFsc2U7XG4gICAgdGhpcy5ob3VyTW9kZSA9IHRydWU7XG4gIH1cblxuICB2YWxpZGF0ZSgpIHtcbiAgICB0aGlzLndyaXRlVmFsdWUodGhpcy5wYWQodGhpcy5ob3VyKSArICc6JyArIHRoaXMucGFkKHRoaXMubWludXRlKSk7XG4gICAgdGhpcy5lbC5uYXRpdmVFbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbnB1dCcpWzBdLnZhbHVlID0gdGhpcy5wYWQodGhpcy5ob3VyKSArICc6JyArIHRoaXMucGFkKHRoaXMubWludXRlKTtcbiAgICB0aGlzLmhpZGUoKTtcbiAgfVxuXG4gIGlucHV0Q2hhbmdlKCRldmVudCkge1xuICAgIHRoaXMub25DaGFuZ2UoJGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWUpO1xuICB9XG5cbiAgLy8gbm9pbnNwZWN0aW9uIEpTVW51c2VkTG9jYWxTeW1ib2xzXG4gIG9uQ2hhbmdlID0gKHRpbWU6IHN0cmluZykgPT4ge1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpzZW1pY29sb25cbiAgfTtcblxuICBvblRvdWNoZWQgPSAoKSA9PiB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnNlbWljb2xvblxuICB9O1xuXG4gIHJlZ2lzdGVyT25DaGFuZ2UoZm46IGFueSk6IHZvaWQge1xuICAgIHRoaXMub25DaGFuZ2UgPSBmbjtcbiAgfVxuXG4gIHJlZ2lzdGVyT25Ub3VjaGVkKGZuOiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLm9uVG91Y2hlZCA9IGZuO1xuICB9XG5cbiAgc2V0RGlzYWJsZWRTdGF0ZShpc0Rpc2FibGVkOiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5kaXNhYmxlZCA9IGlzRGlzYWJsZWQ7XG4gIH1cblxuICB3cml0ZVZhbHVlKG9iajogYW55KTogdm9pZCB7XG4gICAgaWYgKG9iaikge1xuICAgICAgdGhpcy5lbC5uYXRpdmVFbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbnB1dCcpWzBdLnZhbHVlID0gb2JqO1xuICAgICAgaWYgKHR5cGVvZiBvYmogPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnN0IHRpbWUgPSBvYmouc3BsaXQoJzonKTtcbiAgICAgICAgdGhpcy5ob3VyID0gK3RpbWVbMF07XG4gICAgICAgIHRoaXMubWludXRlID0gK3RpbWVbMV07XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMub25DaGFuZ2Uob2JqKTtcbiAgfVxufVxuIl19