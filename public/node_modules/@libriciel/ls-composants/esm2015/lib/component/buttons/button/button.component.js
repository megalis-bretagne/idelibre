/**
 * @fileoverview added by tsickle
 * Generated from: lib/component/buttons/button/button.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, ElementRef, EventEmitter, Input, Output, Renderer2, ViewChild } from '@angular/core';
import { CommonIcons } from '../../../icons/common-icons';
import { Weight } from '../../../ui-concepts/weight';
import { Style } from '../../../ui-concepts/style';
import { CommonStylesConstants } from '../../../ui-concepts/common-styles-constants';
import { IconSize } from '../../../ui-concepts/icon.size';
export class ButtonComponent {
    /**
     * @param {?} el
     * @param {?} renderer2
     */
    constructor(el, renderer2) {
        this.el = el;
        this.renderer2 = renderer2;
        this.weight = Weight.PRIMARY;
        this.style = Style.NORMAL;
        this.additionalClasses = '';
        this.disabled = false;
        this.processing = false;
        // Buggy functionality. Disabled.
        this.onlyIcon = false;
        this.colorOnHover = false;
        this.iconOnLeft = true;
        this.iconSize = IconSize.NORMAL;
        this.btnClick = new EventEmitter();
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.processingIcon = this.icon ? this.processingIcon || CommonIcons.SPINNER_ICON : '';
    }
    /**
     * @return {?}
     */
    ngAfterViewInit() {
        this.moveAttributeToInput('id');
        this.moveAttributeToInput('tabindex');
        this.moveAttributeToInput('name');
        this.moveAttributeToInput('autofocus');
        this.moveAttributeToInput('type');
        this.moveAttributeToInput('form');
    }
    /**
     * @return {?}
     */
    getIconClasses() {
        /** @type {?} */
        const classes = this.weight === Weight.MENU_ITEM ? `${CommonStylesConstants.getStyleClass(this.style)} ` : '';
        switch (this.iconSize) {
            case IconSize.SMALL:
                return ` ${classes}${CommonStylesConstants.getButtonSmallSizeClass()}`;
            case IconSize.LARGE:
                return ` ${classes}${CommonStylesConstants.getButtonLargeSizeClass()}`;
            default:
                return '';
        }
    }
    /**
     * @return {?}
     */
    getBtnClasses() {
        /** @type {?} */
        const btnClasses = this.additionalClasses ? ` ${this.additionalClasses}` : '';
        if (this.onlyIcon) {
            return `no-text${btnClasses} `
                + (this.colorOnHover
                    ? CommonStylesConstants.getOnHoverStyleClass(this.style)
                    : CommonStylesConstants.getStyleClass(this.style));
        }
        switch (this.weight) {
            case Weight.PRIMARY:
                return `${CommonStylesConstants.getButtonStyleClass(this.style)}${btnClasses}`;
            case Weight.SECONDARY:
                return `${CommonStylesConstants.getButtonOutlineStyleClass(this.style)}${btnClasses}`;
            case Weight.TERTIARY:
                return `${CommonStylesConstants.getButtonLinkStyleClass()}${btnClasses}`;
            case Weight.MENU_ITEM:
                return `${CommonStylesConstants.getButtonMenuItemStyleClass()}${btnClasses}`;
        }
    }
    /**
     * @private
     * @param {?} attributeName
     * @param {?=} defaultValue
     * @return {?}
     */
    moveAttributeToInput(attributeName, defaultValue) {
        /** @type {?} */
        const attribute = this.el.nativeElement.getAttribute(attributeName);
        if (attribute !== null) {
            this.renderer2.removeAttribute(this.el.nativeElement, attributeName);
        }
        if (attribute !== null || defaultValue) {
            this.renderer2.setAttribute(this.buttonElement.nativeElement, attributeName, attribute ? attribute : defaultValue);
        }
    }
}
ButtonComponent.decorators = [
    { type: Component, args: [{
                selector: 'ls-button',
                template: "<button #buttonElement [disabled]=\"disabled || processing\"\n        (click)=\"btnClick.emit($event)\"\n        [ngClass]=\"getBtnClasses()\" class=\"btn btn-icon-label\" title=\"{{title}}\" type=\"button\">\n  <span *ngIf=\"iconOnLeft && icon\" [ngClass]=\"processing  ? processingIcon : icon + getIconClasses()\"></span>\n  <span *ngIf=\"title && !onlyIcon\" [innerText]=\"title\"></span>\n  <span *ngIf=\"!iconOnLeft && icon\" [ngClass]=\"processing  ? processingIcon : icon + getIconClasses()\"></span>\n</button>\n",
                styles: [":host .btn{cursor:pointer;white-space:nowrap}:host .btn.no-text{border-radius:0;height:100%;padding:0;width:100%}:host .btn.menu-item{border-radius:0;text-align:left;width:100%}:host .btn:disabled{cursor:not-allowed}:host .btn:not(.no-text-button) span.fa:not(:first-child),:host .btn:not(.no-text-button) span.far:not(:first-child),:host .btn:not(.no-text-button) span.fas:not(:first-child){margin-left:.5rem}:host .btn:not(.no-text-button) span.fa:not(:last-child),:host .btn:not(.no-text-button) span.far:not(:last-child),:host .btn:not(.no-text-button) span.fas:not(:last-child){margin-right:.5rem}"]
            }] }
];
/** @nocollapse */
ButtonComponent.ctorParameters = () => [
    { type: ElementRef },
    { type: Renderer2 }
];
ButtonComponent.propDecorators = {
    title: [{ type: Input }],
    icon: [{ type: Input }],
    weight: [{ type: Input }],
    style: [{ type: Input }],
    additionalClasses: [{ type: Input }],
    disabled: [{ type: Input }],
    processing: [{ type: Input }],
    processingIcon: [{ type: Input }],
    colorOnHover: [{ type: Input }],
    iconOnLeft: [{ type: Input }],
    iconSize: [{ type: Input }],
    buttonElement: [{ type: ViewChild, args: ['buttonElement',] }],
    btnClick: [{ type: Output }]
};
if (false) {
    /** @type {?} */
    ButtonComponent.prototype.title;
    /** @type {?} */
    ButtonComponent.prototype.icon;
    /** @type {?} */
    ButtonComponent.prototype.weight;
    /** @type {?} */
    ButtonComponent.prototype.style;
    /** @type {?} */
    ButtonComponent.prototype.additionalClasses;
    /** @type {?} */
    ButtonComponent.prototype.disabled;
    /** @type {?} */
    ButtonComponent.prototype.processing;
    /** @type {?} */
    ButtonComponent.prototype.processingIcon;
    /** @type {?} */
    ButtonComponent.prototype.onlyIcon;
    /** @type {?} */
    ButtonComponent.prototype.colorOnHover;
    /** @type {?} */
    ButtonComponent.prototype.iconOnLeft;
    /** @type {?} */
    ButtonComponent.prototype.iconSize;
    /** @type {?} */
    ButtonComponent.prototype.buttonElement;
    /** @type {?} */
    ButtonComponent.prototype.btnClick;
    /**
     * @type {?}
     * @protected
     */
    ButtonComponent.prototype.el;
    /**
     * @type {?}
     * @protected
     */
    ButtonComponent.prototype.renderer2;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnV0dG9uLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIvYnVpbGRzL291dGlscy9jaGFydGVncmFwaGlxdWUvbGlicmFpcmllLWFuZ3VsYXIvbGliL3NyYy8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnQvYnV0dG9ucy9idXR0b24vYnV0dG9uLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBaUIsU0FBUyxFQUFFLFVBQVUsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFVLE1BQU0sRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ2hJLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUMxRCxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFDckQsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQ25ELE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLDhDQUE4QyxDQUFDO0FBQ3JGLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQU8xRCxNQUFNLE9BQU8sZUFBZTs7Ozs7SUFpQjFCLFlBQ1ksRUFBYyxFQUNkLFNBQW9CO1FBRHBCLE9BQUUsR0FBRixFQUFFLENBQVk7UUFDZCxjQUFTLEdBQVQsU0FBUyxDQUFXO1FBaEJ2QixXQUFNLEdBQVcsTUFBTSxDQUFDLE9BQU8sQ0FBQztRQUNoQyxVQUFLLEdBQVUsS0FBSyxDQUFDLE1BQU0sQ0FBQztRQUM1QixzQkFBaUIsR0FBRyxFQUFFLENBQUM7UUFDdkIsYUFBUSxHQUFHLEtBQUssQ0FBQztRQUNqQixlQUFVLEdBQUcsS0FBSyxDQUFDOztRQUc1QixhQUFRLEdBQUcsS0FBSyxDQUFDO1FBQ1IsaUJBQVksR0FBRyxLQUFLLENBQUM7UUFDckIsZUFBVSxHQUFHLElBQUksQ0FBQztRQUNsQixhQUFRLEdBQWEsUUFBUSxDQUFDLE1BQU0sQ0FBQztRQUVw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SSxDQUFDLEVBQUUsQ0FBQyxhQUFhLEVBQUUsYUFBYSxDQUFDLENBQUM7U0FDdEU7UUFDRCxJQUFJLFNBQVMsS0FBSyxJQUFJLElBQUksWUFBWSxFQUFFO1lBQ3RDLElBQUksQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsYUFBYSxFQUFFLGFBQWEsRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUM7U0FDcEg7SUFDSCxDQUFDOzs7WUFuRkYsU0FBUyxTQUFDO2dCQUNULFFBQVEsRUFBRSxXQUFXO2dCQUNyQixvaEJBQXNDOzthQUV2Qzs7OztZQVhrQyxVQUFVO1lBQXVDLFNBQVM7OztvQkFhMUYsS0FBSzttQkFDTCxLQUFLO3FCQUNMLEtBQUs7b0JBQ0wsS0FBSztnQ0FDTCxLQUFLO3VCQUNMLEtBQUs7eUJBQ0wsS0FBSzs2QkFDTCxLQUFLOzJCQUdMLEtBQUs7eUJBQ0wsS0FBSzt1QkFDTCxLQUFLOzRCQUNMLFNBQVMsU0FBQyxlQUFlO3VCQUN6QixNQUFNOzs7O0lBZFAsZ0NBQXVCOztJQUN2QiwrQkFBc0I7O0lBQ3RCLGlDQUF5Qzs7SUFDekMsZ0NBQXFDOztJQUNyQyw0Q0FBZ0M7O0lBQ2hDLG1DQUEwQjs7SUFDMUIscUNBQTRCOztJQUM1Qix5Q0FBd0I7O0lBRXhCLG1DQUFpQjs7SUFDakIsdUNBQThCOztJQUM5QixxQ0FBMkI7O0lBQzNCLG1DQUE4Qzs7SUFDOUMsd0NBQTBDOztJQUMxQyxtQ0FBd0M7Ozs7O0lBR3RDLDZCQUF3Qjs7Ozs7SUFDeEIsb0NBQThCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWZ0ZXJWaWV3SW5pdCwgQ29tcG9uZW50LCBFbGVtZW50UmVmLCBFdmVudEVtaXR0ZXIsIElucHV0LCBPbkluaXQsIE91dHB1dCwgUmVuZGVyZXIyLCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbW1vbkljb25zIH0gZnJvbSAnLi4vLi4vLi4vaWNvbnMvY29tbW9uLWljb25zJztcbmltcG9ydCB7IFdlaWdodCB9IGZyb20gJy4uLy4uLy4uL3VpLWNvbmNlcHRzL3dlaWdodCc7XG5pbXBvcnQgeyBTdHlsZSB9IGZyb20gJy4uLy4uLy4uL3VpLWNvbmNlcHRzL3N0eWxlJztcbmltcG9ydCB7IENvbW1vblN0eWxlc0NvbnN0YW50cyB9IGZyb20gJy4uLy4uLy4uL3VpLWNvbmNlcHRzL2NvbW1vbi1zdHlsZXMtY29uc3RhbnRzJztcbmltcG9ydCB7IEljb25TaXplIH0gZnJvbSAnLi4vLi4vLi4vdWktY29uY2VwdHMvaWNvbi5zaXplJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnbHMtYnV0dG9uJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2J1dHRvbi5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL2J1dHRvbi5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIEJ1dHRvbkNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgQWZ0ZXJWaWV3SW5pdCB7XG4gIEBJbnB1dCgpIHRpdGxlOiBzdHJpbmc7XG4gIEBJbnB1dCgpIGljb246IHN0cmluZztcbiAgQElucHV0KCkgd2VpZ2h0OiBXZWlnaHQgPSBXZWlnaHQuUFJJTUFSWTtcbiAgQElucHV0KCkgc3R5bGU6IFN0eWxlID0gU3R5bGUuTk9STUFMO1xuICBASW5wdXQoKSBhZGRpdGlvbmFsQ2xhc3NlcyA9ICcnO1xuICBASW5wdXQoKSBkaXNhYmxlZCA9IGZhbHNlO1xuICBASW5wdXQoKSBwcm9jZXNzaW5nID0gZmFsc2U7XG4gIEBJbnB1dCgpIHByb2Nlc3NpbmdJY29uO1xuICAvLyBCdWdneSBmdW5jdGlvbmFsaXR5LiBEaXNhYmxlZC5cbiAgb25seUljb24gPSBmYWxzZTtcbiAgQElucHV0KCkgY29sb3JPbkhvdmVyID0gZmFsc2U7XG4gIEBJbnB1dCgpIGljb25PbkxlZnQgPSB0cnVlO1xuICBASW5wdXQoKSBpY29uU2l6ZTogSWNvblNpemUgPSBJY29uU2l6ZS5OT1JNQUw7XG4gIEBWaWV3Q2hpbGQoJ2J1dHRvbkVsZW1lbnQnKSBidXR0b25FbGVtZW50O1xuICBAT3V0cHV0KCkgYnRuQ2xpY2sgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJvdGVjdGVkIGVsOiBFbGVtZW50UmVmLFxuICAgIHByb3RlY3RlZCByZW5kZXJlcjI6IFJlbmRlcmVyMixcbiAgKSB7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLnByb2Nlc3NpbmdJY29uID0gdGhpcy5pY29uID8gdGhpcy5wcm9jZXNzaW5nSWNvbiB8fCBDb21tb25JY29ucy5TUElOTkVSX0lDT04gOiAnJztcbiAgfVxuXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLm1vdmVBdHRyaWJ1dGVUb0lucHV0KCdpZCcpO1xuICAgIHRoaXMubW92ZUF0dHJpYnV0ZVRvSW5wdXQoJ3RhYmluZGV4Jyk7XG4gICAgdGhpcy5tb3ZlQXR0cmlidXRlVG9JbnB1dCgnbmFtZScpO1xuICAgIHRoaXMubW92ZUF0dHJpYnV0ZVRvSW5wdXQoJ2F1dG9mb2N1cycpO1xuICAgIHRoaXMubW92ZUF0dHJpYnV0ZVRvSW5wdXQoJ3R5cGUnKTtcbiAgICB0aGlzLm1vdmVBdHRyaWJ1dGVUb0lucHV0KCdmb3JtJyk7XG4gIH1cblxuICBnZXRJY29uQ2xhc3NlcygpOiBzdHJpbmcge1xuICAgIGNvbnN0IGNsYXNzZXMgPSB0aGlzLndlaWdodCA9PT0gV2VpZ2h0Lk1FTlVfSVRFTSA/IGAke0NvbW1vblN0eWxlc0NvbnN0YW50cy5nZXRTdHlsZUNsYXNzKHRoaXMuc3R5bGUpfSBgIDogJyc7XG5cbiAgICBzd2l0Y2ggKHRoaXMuaWNvblNpemUpIHtcbiAgICAgIGNhc2UgSWNvblNpemUuU01BTEw6XG4gICAgICAgIHJldHVybiBgICR7Y2xhc3Nlc30ke0NvbW1vblN0eWxlc0NvbnN0YW50cy5nZXRCdXR0b25TbWFsbFNpemVDbGFzcygpfWA7XG4gICAgICBjYXNlIEljb25TaXplLkxBUkdFOlxuICAgICAgICByZXR1cm4gYCAke2NsYXNzZXN9JHtDb21tb25TdHlsZXNDb25zdGFudHMuZ2V0QnV0dG9uTGFyZ2VTaXplQ2xhc3MoKX1gO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfVxuXG4gIGdldEJ0bkNsYXNzZXMoKTogc3RyaW5nIHtcbiAgICBjb25zdCBidG5DbGFzc2VzID0gdGhpcy5hZGRpdGlvbmFsQ2xhc3NlcyA/IGAgJHt0aGlzLmFkZGl0aW9uYWxDbGFzc2VzfWAgOiAnJztcblxuICAgIGlmICh0aGlzLm9ubHlJY29uKSB7XG4gICAgICByZXR1cm4gYG5vLXRleHQke2J0bkNsYXNzZXN9IGBcbiAgICAgICAgKyAodGhpcy5jb2xvck9uSG92ZXJcbiAgICAgICAgICA/IENvbW1vblN0eWxlc0NvbnN0YW50cy5nZXRPbkhvdmVyU3R5bGVDbGFzcyh0aGlzLnN0eWxlKVxuICAgICAgICAgIDogQ29tbW9uU3R5bGVzQ29uc3RhbnRzLmdldFN0eWxlQ2xhc3ModGhpcy5zdHlsZSkpO1xuICAgIH1cbiAgICBzd2l0Y2ggKHRoaXMud2VpZ2h0KSB7XG4gICAgICBjYXNlIFdlaWdodC5QUklNQVJZOlxuICAgICAgICByZXR1cm4gYCR7Q29tbW9uU3R5bGVzQ29uc3RhbnRzLmdldEJ1dHRvblN0eWxlQ2xhc3ModGhpcy5zdHlsZSl9JHtidG5DbGFzc2VzfWA7XG4gICAgICBjYXNlIFdlaWdodC5TRUNPTkRBUlk6XG4gICAgICAgIHJldHVybiBgJHtDb21tb25TdHlsZXNDb25zdGFudHMuZ2V0QnV0dG9uT3V0bGluZVN0eWxlQ2xhc3ModGhpcy5zdHlsZSl9JHtidG5DbGFzc2VzfWA7XG4gICAgICBjYXNlIFdlaWdodC5URVJUSUFSWTpcbiAgICAgICAgcmV0dXJuIGAke0NvbW1vblN0eWxlc0NvbnN0YW50cy5nZXRCdXR0b25MaW5rU3R5bGVDbGFzcygpfSR7YnRuQ2xhc3Nlc31gO1xuICAgICAgY2FzZSBXZWlnaHQuTUVOVV9JVEVNOlxuICAgICAgICByZXR1cm4gYCR7Q29tbW9uU3R5bGVzQ29uc3RhbnRzLmdldEJ1dHRvbk1lbnVJdGVtU3R5bGVDbGFzcygpfSR7YnRuQ2xhc3Nlc31gO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgbW92ZUF0dHJpYnV0ZVRvSW5wdXQoYXR0cmlidXRlTmFtZTogc3RyaW5nLCBkZWZhdWx0VmFsdWU/OiBzdHJpbmcpIHtcbiAgICBjb25zdCBhdHRyaWJ1dGUgPSB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgIGlmIChhdHRyaWJ1dGUgIT09IG51bGwpIHtcbiAgICAgIHRoaXMucmVuZGVyZXIyLnJlbW92ZUF0dHJpYnV0ZSh0aGlzLmVsLm5hdGl2ZUVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUpO1xuICAgIH1cbiAgICBpZiAoYXR0cmlidXRlICE9PSBudWxsIHx8IGRlZmF1bHRWYWx1ZSkge1xuICAgICAgdGhpcy5yZW5kZXJlcjIuc2V0QXR0cmlidXRlKHRoaXMuYnV0dG9uRWxlbWVudC5uYXRpdmVFbGVtZW50LCBhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGUgPyBhdHRyaWJ1dGUgOiBkZWZhdWx0VmFsdWUpO1xuICAgIH1cbiAgfVxufVxuIl19