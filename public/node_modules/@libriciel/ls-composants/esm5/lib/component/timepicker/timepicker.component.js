/**
 * @fileoverview added by tsickle
 * Generated from: lib/component/timepicker/timepicker.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, ElementRef, forwardRef, HostBinding, Input, Renderer2, ViewChild } from '@angular/core';
import { animate, animateChild, group, query, state, style, transition, trigger } from '@angular/animations';
import { NG_VALUE_ACCESSOR } from '@angular/forms';
var TimepickerComponent = /** @class */ (function () {
    function TimepickerComponent(el, renderer2) {
        this.el = el;
        this.renderer2 = renderer2;
        this.hoursElements = [
            'subrot270',
            'rot300',
            'rot330',
            'rot0',
            'rot30',
            'rot60',
            'rot90',
            'rot120',
            'rot150',
            'rot180',
            'rot210',
            'rot240',
            'rot270',
            'subrot300',
            'subrot330',
            'subrot0',
            'subrot30',
            'subrot60',
            'subrot90',
            'subrot120',
            'subrot150',
            'subrot180',
            'subrot210',
            'subrot240',
        ];
        this.minutesElements = [
            'rot270',
            'rot300',
            'rot330',
            'rot0',
            'rot30',
            'rot60',
            'rot90',
            'rot120',
            'rot150',
            'rot180',
            'rot210',
            'rot240',
        ];
        this.hour = 0;
        this.minute = 0;
        this.rot = 0;
        this.showWrapper = false;
        this.updateMode = false;
        this.hourMode = true;
        this.disabled = false;
        this.classInputGroup = true;
        this.classInputGroupEndIcon = true;
        // noinspection JSUnusedLocalSymbols
        this.onChange = (/**
         * @param {?} time
         * @return {?}
         */
        function (time) {
            // tslint:disable-next-line:semicolon
        });
        this.onTouched = (/**
         * @return {?}
         */
        function () {
            // tslint:disable-next-line:semicolon
        });
    }
    /**
     * @return {?}
     */
    TimepickerComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        this.moveAttributeToInput('id');
        this.moveAttributeToInput('tabindex');
        this.moveAttributeToInput('required', '');
        this.moveAttributeToInput('name', 'timepicker');
    };
    /**
     * @private
     * @param {?} attributeName
     * @param {?=} defaultValue
     * @return {?}
     */
    TimepickerComponent.prototype.moveAttributeToInput = /**
     * @private
     * @param {?} attributeName
     * @param {?=} defaultValue
     * @return {?}
     */
    function (attributeName, defaultValue) {
        /** @type {?} */
        var attribute = this.el.nativeElement.getAttribute(attributeName);
        if (attribute !== null) {
            this.renderer2.removeAttribute(this.el.nativeElement, attributeName);
        }
        if (attribute !== null || defaultValue) {
            this.renderer2.setAttribute(this.input.nativeElement, attributeName, attribute ? attribute : defaultValue);
        }
    };
    /**
     * @return {?}
     */
    TimepickerComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.validate();
    };
    /**
     * @param {?} num
     * @return {?}
     */
    TimepickerComponent.prototype.pad = /**
     * @param {?} num
     * @return {?}
     */
    function (num) {
        return '00'.substring(0, 2 - ('' + num).length) + num;
    };
    /**
     * @return {?}
     */
    TimepickerComponent.prototype.show = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.showWrapper = true;
        setTimeout((/**
         * @return {?}
         */
        function () { return _this.setHour(_this.hour); }), 0);
    };
    /**
     * @param {?} nR
     * @return {?}
     */
    TimepickerComponent.prototype.rotateThis = /**
     * @param {?} nR
     * @return {?}
     */
    function (nR) {
        /** @type {?} */
        var aR;
        this.rot = this.rot || 0; // if rot undefined or 0, make 0, else rot
        aR = this.rot % 360;
        if (aR < 0) {
            aR += 360;
        }
        if (aR < 180 && (nR > (aR + 180))) {
            this.rot -= 360;
        }
        if (aR >= 180 && (nR <= (aR - 180))) {
            this.rot += 360;
        }
        this.rot += (nR - aR);
        return 'rotate( ' + this.rot + 'deg )';
    };
    /**
     * @param {?} hour
     * @return {?}
     */
    TimepickerComponent.prototype.setHour = /**
     * @param {?} hour
     * @return {?}
     */
    function (hour) {
        /** @type {?} */
        var transform = this.rotateThis((hour * 30) % 360);
        if (hour === 0 || hour > 12) {
            transform += ' scale(0.6)';
        }
        this.el.nativeElement.getElementsByClassName('time-picker-clock-arrow')[0].style.transform = transform;
        this.hour = hour % 24;
    };
    /**
     * @param {?} minute
     * @return {?}
     */
    TimepickerComponent.prototype.setMinute = /**
     * @param {?} minute
     * @return {?}
     */
    function (minute) {
        this.minute = minute % 60;
        this.el.nativeElement.getElementsByClassName('time-picker-clock-arrow')[0].style.transform = this.rotateThis(minute / 5 * 30);
    };
    /**
     * @return {?}
     */
    TimepickerComponent.prototype.mousedown = /**
     * @return {?}
     */
    function () {
        this.updateMode = true;
    };
    /**
     * @return {?}
     */
    TimepickerComponent.prototype.toHourMode = /**
     * @return {?}
     */
    function () {
        this.hourMode = true;
        this.setHour(this.hour);
    };
    /**
     * @return {?}
     */
    TimepickerComponent.prototype.toMinuteMode = /**
     * @return {?}
     */
    function () {
        this.hourMode = false;
        this.setMinute(this.minute);
    };
    /**
     * @param {?} event
     * @return {?}
     */
    TimepickerComponent.prototype.mouseup = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.move(event);
        this.updateMode = false;
        if (this.hourMode) {
            this.toMinuteMode();
        }
    };
    /**
     * @param {?} event
     * @return {?}
     */
    TimepickerComponent.prototype.move = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (this.updateMode && event.target instanceof HTMLButtonElement) {
            /** @type {?} */
            var btn = event.target;
            /** @type {?} */
            var nodes = Array.prototype.slice.call(btn.parentElement.children);
            /** @type {?} */
            var index = nodes.indexOf(btn);
            if (this.hourMode) {
                this.setHour(index);
            }
            else {
                this.setMinute(index * 5);
            }
        }
    };
    /**
     * @return {?}
     */
    TimepickerComponent.prototype.hide = /**
     * @return {?}
     */
    function () {
        this.showWrapper = false;
        this.updateMode = false;
        this.hourMode = true;
    };
    /**
     * @return {?}
     */
    TimepickerComponent.prototype.validate = /**
     * @return {?}
     */
    function () {
        this.writeValue(this.pad(this.hour) + ':' + this.pad(this.minute));
        this.el.nativeElement.getElementsByTagName('input')[0].value = this.pad(this.hour) + ':' + this.pad(this.minute);
        this.hide();
    };
    /**
     * @param {?} $event
     * @return {?}
     */
    TimepickerComponent.prototype.inputChange = /**
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        this.onChange($event.currentTarget.value);
    };
    /**
     * @param {?} fn
     * @return {?}
     */
    TimepickerComponent.prototype.registerOnChange = /**
     * @param {?} fn
     * @return {?}
     */
    function (fn) {
        this.onChange = fn;
    };
    /**
     * @param {?} fn
     * @return {?}
     */
    TimepickerComponent.prototype.registerOnTouched = /**
     * @param {?} fn
     * @return {?}
     */
    function (fn) {
        this.onTouched = fn;
    };
    /**
     * @param {?} isDisabled
     * @return {?}
     */
    TimepickerComponent.prototype.setDisabledState = /**
     * @param {?} isDisabled
     * @return {?}
     */
    function (isDisabled) {
        this.disabled = isDisabled;
    };
    /**
     * @param {?} obj
     * @return {?}
     */
    TimepickerComponent.prototype.writeValue = /**
     * @param {?} obj
     * @return {?}
     */
    function (obj) {
        if (obj) {
            this.el.nativeElement.getElementsByTagName('input')[0].value = obj;
            if (typeof obj === 'string') {
                /** @type {?} */
                var time = obj.split(':');
                this.hour = +time[0];
                this.minute = +time[1];
            }
        }
        this.onChange(obj);
    };
    TimepickerComponent.decorators = [
        { type: Component, args: [{
                    selector: 'ls-timepicker',
                    template: "<div class=\"wrapper\" *ngIf=\"showWrapper\" [@fadeInOut]>\n  <div class=\"shadow time-picker\" [@popOut]>\n    <div class=\"time-picker-header\">\n      <span [ngClass]=\"hourMode ? 'active' : ''\" class=\"pointer-event\"\n            (click)=\"this.toHourMode()\">{{pad(hour % 24)}}</span>\n      <span> : </span>\n      <span [ngClass]=\"hourMode ? '' : 'active'\" class=\"pointer-event\"\n            (click)=\"this.toMinuteMode()\">{{pad(minute % 60)}}</span>\n    </div>\n    <div class=\"time-picker-content\">\n      <div class=\"background\"></div>\n      <div class=\"clock\" (mousemove)=\"move($event)\" (mouseup)=\"mouseup($event)\" (mousedown)=\"mousedown()\">\n\n        <div class=\"time-picker-hour\" [ngClass]=\"hourMode ? 'active' : ''\">\n          <button *ngFor=\"let rot of hoursElements; let i = index\" class=\"{{rot}} hourglass-btn\"\n                  [ngClass]=\"i == hour ? 'active' : ''\">\n            {{i}}\n          </button>\n        </div>\n        <div class=\"time-picker-minute\" [ngClass]=\"hourMode ? '' : 'active'\">\n          <button *ngFor=\"let rot of minutesElements; let i = index\" class=\"{{rot}} hourglass-btn\"\n                  [ngClass]=\"i == (minute / 5) ? 'active' : ''\" (click)=\"setMinute(i * 5)\">\n            {{((i) * 5) % 60}}\n          </button>\n        </div>\n\n        <div class=\"time-picker-clock-origin\"></div>\n        <div class=\"time-picker-clock-arrow\"></div>\n      </div>\n    </div>\n    <div class=\"time-picker-footer\">\n      <button class=\"btn btn-outline-primary\" (click)=\"hide()\">Annuler</button>\n      <button class=\"btn btn-primary\" (click)=\"validate()\">OK</button>\n    </div>\n  </div>\n</div>\n\n<ng-container>\n  <input type=\"time\" #input class=\"ls-action-input form-control time-picker-input\"\n         (click)=\"show()\"\n         (change)=\"inputChange($event)\" (blur)=\"onTouched();\">\n  <span class=\"input-icon\" (click)=\"show()\">\n    <i class=\"far fa-clock\"></i>\n  </span>\n</ng-container>\n",
                    providers: [{
                            provide: NG_VALUE_ACCESSOR,
                            useExisting: forwardRef((/**
                             * @return {?}
                             */
                            function () { return TimepickerComponent; })),
                            multi: true
                        }],
                    animations: [
                        trigger('fadeInOut', [
                            transition('void => *', [
                                style({
                                    opacity: 0
                                }),
                                group([
                                    animate(300, style({
                                        opacity: 1
                                    })),
                                    query('@popOut', animateChild())
                                ])
                            ]),
                            transition('* => void', [
                                style({
                                    opacity: 1
                                }),
                                group([
                                    animate(300, style({
                                        opacity: 0
                                    })),
                                    query('@popOut', animateChild())
                                ])
                            ]),
                        ]),
                        trigger('popOut', [
                            // ...
                            state('void', style({
                                transform: 'scale(0.6)'
                            })),
                            transition('void <=> *', animate(300)),
                        ])
                    ],
                    styles: [".form-group{position:relative}.input-icon{position:absolute;top:0;right:0;background-color:transparent;color:var(--ls-grey-500);cursor:pointer;height:99%;width:40px;border-radius:5px 0 0 5px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.input-icon:hover{color:var(--ls-grey-700)}.input-group-end-icon,:host.input-group-end-icon{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex}.input-group-end-icon input,:host.input-group-end-icon input{padding-right:36px}input.ls-action-input{cursor:pointer}.input-group.input-group-end-icon .input-icon,:host.input-group.input-group-end-icon .input-icon{z-index:3}.hourglass-btn{position:absolute;background-color:transparent;-webkit-transition:color .2s,background-color .2s;transition:color .2s,background-color .2s;cursor:pointer;width:35px;height:35px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:50%;z-index:1;border:none}.hourglass-btn.active,.hourglass-btn:hover{background-color:var(--ls-primary-500);color:#fff}.rot0{color:rgba(0,0,0,.8);-webkit-transform:translate3d(127px,130px,0) rotate(0) translate(115px) rotate(0);transform:translate3d(127px,130px,0) rotate(0) translate(115px) rotate(0)}.subrot0{color:rgba(0,0,0,.6);font-size:.8rem;-webkit-transform:translate3d(127px,130px,0) rotate(0) translate(70px) rotate(0);transform:translate3d(127px,130px,0) rotate(0) translate(70px) rotate(0)}.rot30{color:rgba(0,0,0,.8);-webkit-transform:translate3d(127px,130px,0) rotate(30deg) translate(115px) rotate(-30deg);transform:translate3d(127px,130px,0) rotate(30deg) translate(115px) rotate(-30deg)}.subrot30{color:rgba(0,0,0,.6);font-size:.8rem;-webkit-transform:translate3d(127px,130px,0) rotate(30deg) translate(70px) rotate(-30deg);transform:translate3d(127px,130px,0) rotate(30deg) translate(70px) rotate(-30deg)}.rot60{color:rgba(0,0,0,.8);-webkit-transform:translate3d(127px,130px,0) rotate(60deg) translate(115px) rotate(-60deg);transform:translate3d(127px,130px,0) rotate(60deg) translate(115px) rotate(-60deg)}.subrot60{color:rgba(0,0,0,.6);font-size:.8rem;-webkit-transform:translate3d(127px,130px,0) rotate(60deg) translate(70px) rotate(-60deg);transform:translate3d(127px,130px,0) rotate(60deg) translate(70px) rotate(-60deg)}.rot90{color:rgba(0,0,0,.8);-webkit-transform:translate3d(127px,130px,0) rotate(90deg) translate(115px) rotate(-90deg);transform:translate3d(127px,130px,0) rotate(90deg) translate(115px) rotate(-90deg)}.subrot90{color:rgba(0,0,0,.6);font-size:.8rem;-webkit-transform:translate3d(127px,130px,0) rotate(90deg) translate(70px) rotate(-90deg);transform:translate3d(127px,130px,0) rotate(90deg) translate(70px) rotate(-90deg)}.rot120{color:rgba(0,0,0,.8);-webkit-transform:translate3d(127px,130px,0) rotate(120deg) translate(115px) rotate(-120deg);transform:translate3d(127px,130px,0) rotate(120deg) translate(115px) rotate(-120deg)}.subrot120{color:rgba(0,0,0,.6);font-size:.8rem;-webkit-transform:translate3d(127px,130px,0) rotate(120deg) translate(70px) rotate(-120deg);transform:translate3d(127px,130px,0) rotate(120deg) translate(70px) rotate(-120deg)}.rot150{color:rgba(0,0,0,.8);-webkit-transform:translate3d(127px,130px,0) rotate(150deg) translate(115px) rotate(-150deg);transform:translate3d(127px,130px,0) rotate(150deg) translate(115px) rotate(-150deg)}.subrot150{color:rgba(0,0,0,.6);font-size:.8rem;-webkit-transform:translate3d(127px,130px,0) rotate(150deg) translate(70px) rotate(-150deg);transform:translate3d(127px,130px,0) rotate(150deg) translate(70px) rotate(-150deg)}.rot180{color:rgba(0,0,0,.8);-webkit-transform:translate3d(127px,130px,0) rotate(180deg) translate(115px) rotate(-180deg);transform:translate3d(127px,130px,0) rotate(180deg) translate(115px) rotate(-180deg)}.subrot180{color:rgba(0,0,0,.6);font-size:.8rem;-webkit-transform:translate3d(127px,130px,0) rotate(180deg) translate(70px) rotate(-180deg);transform:translate3d(127px,130px,0) rotate(180deg) translate(70px) rotate(-180deg)}.rot210{color:rgba(0,0,0,.8);-webkit-transform:translate3d(127px,130px,0) rotate(210deg) translate(115px) rotate(-210deg);transform:translate3d(127px,130px,0) rotate(210deg) translate(115px) rotate(-210deg)}.subrot210{color:rgba(0,0,0,.6);font-size:.8rem;-webkit-transform:translate3d(127px,130px,0) rotate(210deg) translate(70px) rotate(-210deg);transform:translate3d(127px,130px,0) rotate(210deg) translate(70px) rotate(-210deg)}.rot240{color:rgba(0,0,0,.8);-webkit-transform:translate3d(127px,130px,0) rotate(240deg) translate(115px) rotate(-240deg);transform:translate3d(127px,130px,0) rotate(240deg) translate(115px) rotate(-240deg)}.subrot240{color:rgba(0,0,0,.6);font-size:.8rem;-webkit-transform:translate3d(127px,130px,0) rotate(240deg) translate(70px) rotate(-240deg);transform:translate3d(127px,130px,0) rotate(240deg) translate(70px) rotate(-240deg)}.rot270{color:rgba(0,0,0,.8);-webkit-transform:translate3d(127px,130px,0) rotate(270deg) translate(115px) rotate(-270deg);transform:translate3d(127px,130px,0) rotate(270deg) translate(115px) rotate(-270deg)}.subrot270{color:rgba(0,0,0,.6);font-size:.8rem;-webkit-transform:translate3d(127px,130px,0) rotate(270deg) translate(70px) rotate(-270deg);transform:translate3d(127px,130px,0) rotate(270deg) translate(70px) rotate(-270deg)}.rot300{color:rgba(0,0,0,.8);-webkit-transform:translate3d(127px,130px,0) rotate(300deg) translate(115px) rotate(-300deg);transform:translate3d(127px,130px,0) rotate(300deg) translate(115px) rotate(-300deg)}.subrot300{color:rgba(0,0,0,.6);font-size:.8rem;-webkit-transform:translate3d(127px,130px,0) rotate(300deg) translate(70px) rotate(-300deg);transform:translate3d(127px,130px,0) rotate(300deg) translate(70px) rotate(-300deg)}.rot330{color:rgba(0,0,0,.8);-webkit-transform:translate3d(127px,130px,0) rotate(330deg) translate(115px) rotate(-330deg);transform:translate3d(127px,130px,0) rotate(330deg) translate(115px) rotate(-330deg)}.subrot330{color:rgba(0,0,0,.6);font-size:.8rem;-webkit-transform:translate3d(127px,130px,0) rotate(330deg) translate(70px) rotate(-330deg);transform:translate3d(127px,130px,0) rotate(330deg) translate(70px) rotate(-330deg)}.rot360{color:rgba(0,0,0,.8);-webkit-transform:translate3d(127px,130px,0) rotate(360deg) translate(115px) rotate(-360deg);transform:translate3d(127px,130px,0) rotate(360deg) translate(115px) rotate(-360deg)}.subrot360{color:rgba(0,0,0,.6);font-size:.8rem;-webkit-transform:translate3d(127px,130px,0) rotate(360deg) translate(70px) rotate(-360deg);transform:translate3d(127px,130px,0) rotate(360deg) translate(70px) rotate(-360deg)}.time-picker{background-color:#fff;width:300px}.time-picker>*{min-height:88px;position:relative}.time-picker-clock-origin{width:6px;height:6px;border-radius:50%;position:absolute;left:50%;top:50%;background:var(--ls-primary-500);margin-left:-3px;margin-top:-3px}.time-picker-clock-arrow{width:2px;height:41%;position:absolute;left:0;top:27px;right:0;margin:auto;-webkit-transform-origin:bottom;-ms-transform-origin:bottom;transform-origin:bottom;background:var(--ls-primary-500);-webkit-transition:-webkit-transform .2s;transition:transform .2s;transition:transform .2s,-webkit-transform .2s}.time-picker-hour,.time-picker-minute{position:relative;z-index:1;opacity:0;-webkit-transform:translateY(130px) scale(0);-ms-transform:translateY(130px) scale(0);transform:translateY(130px) scale(0);-webkit-transition:opacity .2s,-webkit-transform .2s;transition:opacity .2s,transform .2s,-webkit-transform .2s}.time-picker-hour.active,.time-picker-minute.active{opacity:1;-webkit-transform:translateY(0) scale(1);-ms-transform:translateY(0) scale(1);transform:translateY(0) scale(1)}.time-picker-content{height:300px;width:290px;margin:10px 5px 5px}.time-picker-content .background{position:absolute;width:100%;height:100%;border-radius:50%;background:var(--ls-primary-100)}.time-picker-header{background-color:var(--ls-primary-500);color:#fff;font-size:3.2rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.time-picker-header *{opacity:.4}.time-picker-header .active{opacity:1}.time-picker-header .pointer-event{cursor:pointer}.time-picker-footer{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.wrapper{position:fixed;top:0;bottom:0;left:0;right:0;font-family:Roboto,sans-serif;z-index:9999;background:rgba(0,0,0,.3);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}"]
                }] }
    ];
    /** @nocollapse */
    TimepickerComponent.ctorParameters = function () { return [
        { type: ElementRef },
        { type: Renderer2 }
    ]; };
    TimepickerComponent.propDecorators = {
        disabled: [{ type: Input }],
        input: [{ type: ViewChild, args: ['input',] }],
        classInputGroup: [{ type: HostBinding, args: ['class.input-group',] }],
        classInputGroupEndIcon: [{ type: HostBinding, args: ['class.input-group-end-icon',] }]
    };
    return TimepickerComponent;
}());
export { TimepickerComponent };
if (false) {
    /** @type {?} */
    TimepickerComponent.prototype.hoursElements;
    /** @type {?} */
    TimepickerComponent.prototype.minutesElements;
    /** @type {?} */
    TimepickerComponent.prototype.hour;
    /** @type {?} */
    TimepickerComponent.prototype.minute;
    /** @type {?} */
    TimepickerComponent.prototype.rot;
    /** @type {?} */
    TimepickerComponent.prototype.showWrapper;
    /** @type {?} */
    TimepickerComponent.prototype.updateMode;
    /** @type {?} */
    TimepickerComponent.prototype.hourMode;
    /** @type {?} */
    TimepickerComponent.prototype.disabled;
    /** @type {?} */
    TimepickerComponent.prototype.input;
    /** @type {?} */
    TimepickerComponent.prototype.classInputGroup;
    /** @type {?} */
    TimepickerComponent.prototype.classInputGroupEndIcon;
    /** @type {?} */
    TimepickerComponent.prototype.onChange;
    /** @type {?} */
    TimepickerComponent.prototype.onTouched;
    /**
     * @type {?}
     * @private
     */
    TimepickerComponent.prototype.el;
    /**
     * @type {?}
     * @private
     */
    TimepickerComponent.prototype.renderer2;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGltZXBpY2tlci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AbGlicmljaWVsL2xzLWNvbXBvc2FudHMvIiwic291cmNlcyI6WyJsaWIvY29tcG9uZW50L3RpbWVwaWNrZXIvdGltZXBpY2tlci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBRUwsU0FBUyxFQUNULFVBQVUsRUFDVixVQUFVLEVBQ1YsV0FBVyxFQUNYLEtBQUssRUFFTCxTQUFTLEVBQ1QsU0FBUyxFQUNWLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBQyxPQUFPLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUUsT0FBTyxFQUFDLE1BQU0scUJBQXFCLENBQUM7QUFDM0csT0FBTyxFQUF1QixpQkFBaUIsRUFBQyxNQUFNLGdCQUFnQixDQUFDO0FBRXZFO0lBcUdFLDZCQUFvQixFQUFjLEVBQVUsU0FBb0I7UUFBNUMsT0FBRSxHQUFGLEVBQUUsQ0FBWTtRQUFVLGNBQVMsR0FBVCxTQUFTLENBQVc7UUExRGhFLGtCQUFhLEdBQUc7WUFDZCxXQUFXO1lBQ1gsUUFBUTtZQUNSLFFBQVE7WUFDUixNQUFNO1lBQ04sT0FBTztZQUNQLE9BQU87WUFDUCxPQUFPO1lBQ1AsUUFBUTtZQUNSLFFBQVE7WUFDUixRQUFRO1lBQ1IsUUFBUTtZQUNSLFFBQVE7WUFDUixRQUFRO1lBRVIsV0FBVztZQUNYLFdBQVc7WUFDWCxTQUFTO1lBQ1QsVUFBVTtZQUNWLFVBQVU7WUFDVixVQUFVO1lBQ1YsV0FBVztZQUNYLFdBQVc7WUFDWCxXQUFXO1lBQ1gsV0FBVztZQUNYLFdBQVc7U0FDWixDQUFDO1FBRUYsb0JBQWUsR0FBRztZQUNoQixRQUFRO1lBQ1IsUUFBUTtZQUNSLFFBQVE7WUFDUixNQUFNO1lBQ04sT0FBTztZQUNQLE9BQU87WUFDUCxPQUFPO1lBQ1AsUUFBUTtZQUNSLFFB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Q0FDakIsT0FBTyxFQUFFLENBQUM7cUNBQ1gsQ0FBQyxDQUFDO29DQUNILEtBQUssQ0FBQyxTQUFTLEVBQUUsWUFBWSxFQUFFLENBQUM7aUNBQ2pDLENBQUM7NkJBQUMsQ0FBQzt5QkFDUCxDQUFDO3dCQUNGLE9BQU8sQ0FBQyxRQUFRLEVBQUU7NEJBQ2hCLE1BQU07NEJBQ04sS0FBSyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUM7Z0NBQ2xCLFNBQVMsRUFBRSxZQUFZOzZCQUN4QixDQUFDLENBQUM7NEJBQ0gsVUFBVSxDQUFDLFlBQVksRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7eUJBQ3ZDLENBQUM7cUJBQ0g7O2lCQUNGOzs7O2dCQW5EQyxVQUFVO2dCQUtWLFNBQVM7OzsyQkFxR1IsS0FBSzt3QkFFTCxTQUFTLFNBQUMsT0FBTztrQ0FDakIsV0FBVyxTQUFDLG1CQUFtQjt5Q0FDL0IsV0FBVyxTQUFDLDRCQUE0Qjs7SUFzSjNDLDBCQUFDO0NBQUEsQUF6UEQsSUF5UEM7U0FoTlksbUJBQW1COzs7SUFFOUIsNENBMEJFOztJQUVGLDhDQWFFOztJQUVGLG1DQUFTOztJQUNULHFDQUFXOztJQUVYLGtDQUFROztJQUVSLDBDQUFvQjs7SUFDcEIseUNBQW1COztJQUNuQix1Q0FBZ0I7O0lBRWhCLHVDQUEwQjs7SUFFMUIsb0NBQTBCOztJQUMxQiw4Q0FBeUQ7O0lBQ3pELHFEQUF5RTs7SUF1SHpFLHVDQUVFOztJQUVGLHdDQUVFOzs7OztJQTNIVSxpQ0FBc0I7Ozs7O0lBQUUsd0NBQTRCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQWZ0ZXJWaWV3SW5pdCxcbiAgQ29tcG9uZW50LFxuICBFbGVtZW50UmVmLFxuICBmb3J3YXJkUmVmLFxuICBIb3N0QmluZGluZyxcbiAgSW5wdXQsXG4gIE9uSW5pdCxcbiAgUmVuZGVyZXIyLFxuICBWaWV3Q2hpbGRcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge2FuaW1hdGUsIGFuaW1hdGVDaGlsZCwgZ3JvdXAsIHF1ZXJ5LCBzdGF0ZSwgc3R5bGUsIHRyYW5zaXRpb24sIHRyaWdnZXJ9IGZyb20gJ0Bhbmd1bGFyL2FuaW1hdGlvbnMnO1xuaW1wb3J0IHtDb250cm9sVmFsdWVBY2Nlc3NvciwgTkdfVkFMVUVfQUNDRVNTT1J9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnbHMtdGltZXBpY2tlcicsXG4gIHRlbXBsYXRlVXJsOiAnLi90aW1lcGlja2VyLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vdGltZXBpY2tlci5jb21wb25lbnQuc2NzcyddLFxuICBwcm92aWRlcnM6IFt7XG4gICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gVGltZXBpY2tlckNvbXBvbmVudCksXG4gICAgbXVsdGk6IHRydWVcbiAgfV0sXG4gIGFuaW1hdGlvbnM6IFtcbiAgICB0cmlnZ2VyKCdmYWRlSW5PdXQnLCBbXG4gICAgICB0cmFuc2l0aW9uKCd2b2lkID0+IConLCBbXG4gICAgICAgIHN0eWxlKHtcbiAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgIH0pLFxuICAgICAgICBncm91cChbXG4gICAgICAgICAgYW5pbWF0ZSgzMDAsIHN0eWxlKHtcbiAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICB9KSksXG4gICAgICAgICAgcXVlcnkoJ0Bwb3BPdXQnLCBhbmltYXRlQ2hpbGQoKSlcbiAgICAgICAgXSldKSxcbiAgICAgIHRyYW5zaXRpb24oJyogPT4gdm9pZCcsIFtcbiAgICAgICAgc3R5bGUoe1xuICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgfSksXG4gICAgICAgIGdyb3VwKFtcbiAgICAgICAgICBhbmltYXRlKDMwMCwgc3R5bGUoe1xuICAgICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICAgIH0pKSxcbiAgICAgICAgICBxdWVyeSgnQHBvcE91dCcsIGFuaW1hdGVDaGlsZCgpKVxuICAgICAgICBdKV0pLFxuICAgIF0pLFxuICAgIHRyaWdnZXIoJ3BvcE91dCcsIFtcbiAgICAgIC8vIC4uLlxuICAgICAgc3RhdGUoJ3ZvaWQnLCBzdHlsZSh7XG4gICAgICAgIHRyYW5zZm9ybTogJ3NjYWxlKDAuNiknXG4gICAgICB9KSksXG4gICAgICB0cmFuc2l0aW9uKCd2b2lkIDw9PiAqJywgYW5pbWF0ZSgzMDApKSxcbiAgICBdKVxuICBdLFxufSlcbmV4cG9ydCBjbGFzcyBUaW1lcGlja2VyQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBBZnRlclZpZXdJbml0LCBDb250cm9sVmFsdWVBY2Nlc3NvciB7XG5cbiAgaG91cnNFbGVtZW50cyA9IFtcbiAgICAnc3Vicm90MjcwJyxcbiAgICAncm90MzAwJyxcbiAgICAncm90MzMwJyxcbiAgICAncm90MCcsXG4gICAgJ3JvdDMwJyxcbiAgICAncm90NjAnLFxuICAgICdyb3Q5MCcsXG4gICAgJ3JvdDEyMCcsXG4gICAgJ3JvdDE1MCcsXG4gICAgJ3JvdDE4MCcsXG4gICAgJ3JvdDIxMCcsXG4gICAgJ3JvdDI0MCcsXG4gICAgJ3JvdDI3MCcsXG5cbiAgICAnc3Vicm90MzAwJyxcbiAgICAnc3Vicm90MzMwJyxcbiAgICAnc3Vicm90MCcsXG4gICAgJ3N1YnJvdDMwJyxcbiAgICAnc3Vicm90NjAnLFxuICAgICdzdWJyb3Q5MCcsXG4gICAgJ3N1YnJvdDEyMCcsXG4gICAgJ3N1YnJvdDE1MCcsXG4gICAgJ3N1YnJvdDE4MCcsXG4gICAgJ3N1YnJvdDIxMCcsXG4gICAgJ3N1YnJvdDI0MCcsXG4gIF07XG5cbiAgbWludXRlc0VsZW1lbnRzID0gW1xuICAgICdyb3QyNzAnLFxuICAgICdyb3QzMDAnLFxuICAgICdyb3QzMzAnLFxuICAgICdyb3QwJyxcbiAgICAncm90MzAnLFxuICAgICdyb3Q2MCcsXG4gICAgJ3JvdDkwJyxcbiAgICAncm90MTIwJyxcbiAgICAncm90MTUwJyxcbiAgICAncm90MTgwJyxcbiAgICAncm90MjEwJyxcbiAgICAncm90MjQwJyxcbiAgXTtcblxuICBob3VyID0gMDtcbiAgbWludXRlID0gMDtcblxuICByb3QgPSAwO1xuXG4gIHNob3dXcmFwcGVyID0gZmFsc2U7XG4gIHVwZGF0ZU1vZGUgPSBmYWxzZTtcbiAgaG91ck1vZGUgPSB0cnVlO1xuXG4gIEBJbnB1dCgpIGRpc2FibGVkID0gZmFsc2U7XG5cbiAgQFZpZXdDaGlsZCgnaW5wdXQnKSBpbnB1dDtcbiAgQEhvc3RCaW5kaW5nKCdjbGFzcy5pbnB1dC1ncm91cCcpIGNsYXNzSW5wdXRHcm91cCA9IHRydWU7XG4gIEBIb3N0QmluZGluZygnY2xhc3MuaW5wdXQtZ3JvdXAtZW5kLWljb24nKSBjbGFzc0lucHV0R3JvdXBFbmRJY29uID0gdHJ1ZTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGVsOiBFbGVtZW50UmVmLCBwcml2YXRlIHJlbmRlcmVyMjogUmVuZGVyZXIyKSB7XG4gIH1cblxuICBuZ0FmdGVyVmlld0luaXQoKTogdm9pZCB7XG4gICAgdGhpcy5tb3ZlQXR0cmlidXRlVG9JbnB1dCgnaWQnKTtcbiAgICB0aGlzLm1vdmVBdHRyaWJ1dGVUb0lucHV0KCd0YWJpbmRleCcpO1xuICAgIHRoaXMubW92ZUF0dHJpYnV0ZVRvSW5wdXQoJ3JlcXVpcmVkJywgJycpO1xuICAgIHRoaXMubW92ZUF0dHJpYnV0ZVRvSW5wdXQoJ25hbWUnLCAndGltZXBpY2tlcicpO1xuICB9XG5cbiAgcHJpdmF0ZSBtb3ZlQXR0cmlidXRlVG9JbnB1dChhdHRyaWJ1dGVOYW1lOiBzdHJpbmcsIGRlZmF1bHRWYWx1ZT86IHN0cmluZykge1xuICAgIGNvbnN0IGF0dHJpYnV0ZSA9IHRoaXMuZWwubmF0aXZlRWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgaWYgKGF0dHJpYnV0ZSAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5yZW5kZXJlcjIucmVtb3ZlQXR0cmlidXRlKHRoaXMuZWwubmF0aXZlRWxlbWVudCwgYXR0cmlidXRlTmFtZSk7XG4gICAgfVxuICAgIGlmIChhdHRyaWJ1dGUgIT09IG51bGwgfHwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICB0aGlzLnJlbmRlcmVyMi5zZXRBdHRyaWJ1dGUodGhpcy5pbnB1dC5uYXRpdmVFbGVtZW50LCBhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGUgPyBhdHRyaWJ1dGUgOiBkZWZhdWx0VmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgfVxuXG4gIHBhZChudW0pOiBzdHJpbmcge1xuICAgIHJldHVybiAnMDAnLnN1YnN0cmluZygwLCAyIC0gKCcnICsgbnVtKS5sZW5ndGgpICsgbnVtO1xuICB9XG5cbiAgc2hvdygpIHtcbiAgICB0aGlzLnNob3dXcmFwcGVyID0gdHJ1ZTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuc2V0SG91cih0aGlzLmhvdXIpLCAwKTtcbiAgfVxuXG4gIHJvdGF0ZVRoaXMoblIpIHtcbiAgICBsZXQgYVI7XG4gICAgdGhpcy5yb3QgPSB0aGlzLnJvdCB8fCAwOyAvLyBpZiByb3QgdW5kZWZpbmVkIG9yIDAsIG1ha2UgMCwgZWxzZSByb3RcbiAgICBhUiA9IHRoaXMucm90ICUgMzYwO1xuICAgIGlmIChhUiA8IDApIHtcbiAgICAgIGFSICs9IDM2MDtcbiAgICB9XG4gICAgaWYgKGFSIDwgMTgwICYmIChuUiA+IChhUiArIDE4MCkpKSB7XG4gICAgICB0aGlzLnJvdCAtPSAzNjA7XG4gICAgfVxuICAgIGlmIChhUiA+PSAxODAgJiYgKG5SIDw9IChhUiAtIDE4MCkpKSB7XG4gICAgICB0aGlzLnJvdCArPSAzNjA7XG4gICAgfVxuICAgIHRoaXMucm90ICs9IChuUiAtIGFSKTtcbiAgICByZXR1cm4gJ3JvdGF0ZSggJyArIHRoaXMucm90ICsgJ2RlZyApJztcbiAgfVxuXG4gIHNldEhvdXIoaG91cikge1xuICAgIGxldCB0cmFuc2Zvcm0gPSB0aGlzLnJvdGF0ZVRoaXMoKGhvdXIgKiAzMCkgJSAzNjApO1xuICAgIGlmIChob3VyID09PSAwIHx8IGhvdXIgPiAxMikge1xuICAgICAgdHJhbnNmb3JtICs9ICcgc2NhbGUoMC42KSc7XG4gICAgfVxuICAgIHRoaXMuZWwubmF0aXZlRWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd0aW1lLXBpY2tlci1jbG9jay1hcnJvdycpWzBdLnN0eWxlLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICB0aGlzLmhvdXIgPSBob3VyICUgMjQ7XG4gIH1cblxuICBzZXRNaW51dGUobWludXRlKSB7XG4gICAgdGhpcy5taW51dGUgPSBtaW51dGUgJSA2MDtcbiAgICB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndGltZS1waWNrZXItY2xvY2stYXJyb3cnKVswXS5zdHlsZS50cmFuc2Zvcm0gPSB0aGlzLnJvdGF0ZVRoaXMobWludXRlIC8gNSAqIDMwKTtcbiAgfVxuXG4gIG1vdXNlZG93bigpIHtcbiAgICB0aGlzLnVwZGF0ZU1vZGUgPSB0cnVlO1xuICB9XG5cbiAgdG9Ib3VyTW9kZSgpIHtcbiAgICB0aGlzLmhvdXJNb2RlID0gdHJ1ZTtcbiAgICB0aGlzLnNldEhvdXIodGhpcy5ob3VyKTtcbiAgfVxuXG4gIHRvTWludXRlTW9kZSgpIHtcbiAgICB0aGlzLmhvdXJNb2RlID0gZmFsc2U7XG4gICAgdGhpcy5zZXRNaW51dGUodGhpcy5taW51dGUpO1xuICB9XG5cbiAgbW91c2V1cChldmVudCkge1xuICAgIHRoaXMubW92ZShldmVudCk7XG4gICAgdGhpcy51cGRhdGVNb2RlID0gZmFsc2U7XG4gICAgaWYgKHRoaXMuaG91ck1vZGUpIHtcbiAgICAgIHRoaXMudG9NaW51dGVNb2RlKCk7XG4gICAgfVxuICB9XG5cbiAgbW92ZShldmVudCkge1xuICAgIGlmICh0aGlzLnVwZGF0ZU1vZGUgJiYgZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgSFRNTEJ1dHRvbkVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IGJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQgPSBldmVudC50YXJnZXQ7XG5cbiAgICAgIGNvbnN0IG5vZGVzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYnRuLnBhcmVudEVsZW1lbnQuY2hpbGRyZW4pO1xuICAgICAgY29uc3QgaW5kZXggPSBub2Rlcy5pbmRleE9mKGJ0bik7XG4gICAgICBpZiAodGhpcy5ob3VyTW9kZSkge1xuICAgICAgICB0aGlzLnNldEhvdXIoaW5kZXgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXRNaW51dGUoaW5kZXggKiA1KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBoaWRlKCkge1xuICAgIHRoaXMuc2hvd1dyYXBwZXIgPSBmYWxzZTtcbiAgICB0aGlzLnVwZGF0ZU1vZGUgPSBmYWxzZTtcbiAgICB0aGlzLmhvdXJNb2RlID0gdHJ1ZTtcbiAgfVxuXG4gIHZhbGlkYXRlKCkge1xuICAgIHRoaXMud3JpdGVWYWx1ZSh0aGlzLnBhZCh0aGlzLmhvdXIpICsgJzonICsgdGhpcy5wYWQodGhpcy5taW51dGUpKTtcbiAgICB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0JylbMF0udmFsdWUgPSB0aGlzLnBhZCh0aGlzLmhvdXIpICsgJzonICsgdGhpcy5wYWQodGhpcy5taW51dGUpO1xuICAgIHRoaXMuaGlkZSgpO1xuICB9XG5cbiAgaW5wdXRDaGFuZ2UoJGV2ZW50KSB7XG4gICAgdGhpcy5vbkNoYW5nZSgkZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSk7XG4gIH1cblxuICAvLyBub2luc3BlY3Rpb24gSlNVbnVzZWRMb2NhbFN5bWJvbHNcbiAgb25DaGFuZ2UgPSAodGltZTogc3RyaW5nKSA9PiB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnNlbWljb2xvblxuICB9O1xuXG4gIG9uVG91Y2hlZCA9ICgpID0+IHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6c2VtaWNvbG9uXG4gIH07XG5cbiAgcmVnaXN0ZXJPbkNoYW5nZShmbjogYW55KTogdm9pZCB7XG4gICAgdGhpcy5vbkNoYW5nZSA9IGZuO1xuICB9XG5cbiAgcmVnaXN0ZXJPblRvdWNoZWQoZm46IGFueSk6IHZvaWQge1xuICAgIHRoaXMub25Ub3VjaGVkID0gZm47XG4gIH1cblxuICBzZXREaXNhYmxlZFN0YXRlKGlzRGlzYWJsZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLmRpc2FibGVkID0gaXNEaXNhYmxlZDtcbiAgfVxuXG4gIHdyaXRlVmFsdWUob2JqOiBhbnkpOiB2b2lkIHtcbiAgICBpZiAob2JqKSB7XG4gICAgICB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0JylbMF0udmFsdWUgPSBvYmo7XG4gICAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc3QgdGltZSA9IG9iai5zcGxpdCgnOicpO1xuICAgICAgICB0aGlzLmhvdXIgPSArdGltZVswXTtcbiAgICAgICAgdGhpcy5taW51dGUgPSArdGltZVsxXTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5vbkNoYW5nZShvYmopO1xuICB9XG59XG4iXX0=