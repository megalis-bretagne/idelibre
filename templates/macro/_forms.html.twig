{% macro save(cancelPath, param = {} ,saveName = 'Enregistrer', icon = 'fa fa-save', cancelTitle='Annuler', saveTitle='Ajouter') %}
    <a href="{{ path( cancelPath, param ) }}" class="btn btn-link" title="{{ cancelTitle }}">
        <span class="fa fa-times"></span>
        Annuler
    </a>

    <button class="btn btn-primary" type="submit" title="{{ saveName }}">
        <span class="{{ icon }}"></span>
        {{ saveName }}
    </button>
{% endmacro %}

{% macro emptyList(elements, text) %}
    {% if elements |length == 0 %}
        <tr class="d-flex">
            <td class="col-12 text-center">
                {{ text }}
            </td>
        </tr>
    {% endif %}
{% endmacro %}

{% macro editButton(editPath, id = null, title = 'Modifier') %}
    {% if id ==null %}
        <a href="{{ path(editPath) }}" class="btn btn-outline-primary borderless" title="{{ title }}">
            <span class="fas fa-pen"></span>
        </a>
    {% else %}
        <a href="{{ path(editPath, {'id': id}) }}" class="btn btn-outline-primary borderless" title="{{ title }}">
            <span class="fas fa-pen"></span>
        </a>
    {% endif %}
{% endmacro %}

{% macro backButton(backPath, params = {}) %}
    <a href="{{ path(backPath, params) }}" class="btn btn-outline-primary" title="Retour">
        <span class="fa fa-arrow-left"></span>
        Retour
    </a>
{% endmacro %}

{% macro searchForm(formSearch, searchTerm, resetPath) %}
    {{ form_start(formSearch, {'method': 'GET'}) }}

    <div class="input-group col-8 float-right pr-0">
        {{ form_widget(formSearch.search, {'value': searchTerm}) }}
        <div class="input-group-append">
            <a href="{{ path(resetPath) }}" class="btn btn-warning" title="Effacer">
                <span class="fas fa-times"></span>
            </a>
            <button class="btn btn-primary" title="Filtrer">
                <span class="fas fa-search"></span>
            </button>
        </div>
    </div>
    {{ form_end(formSearch) }}
{% endmacro %}

{% macro showButton(showPath, id, title="Visualiser") %}
    <a href="{{ path(showPath, {'id': id}) }}" class="btn btn-outline-primary borderless" title="{{ title }}">
        <span class="fa fa-eye"></span>
    </a>
{% endmacro %}

{% macro addButton(addPath, label="Ajouter", title="Ajouter", class="btn-primary") %}
    <a href="{{ path(addPath) }}" class="btn {{ class }}" title="{{ title }}">
        <span class="fa fa-plus-circle"></span>
        {{ label }}
    </a>
{% endmacro %}

{% macro batchDeleteButton(addPath, label="Supprimer", title="Supprimer", class="btn-primary") %}
    <a href="{{ path(addPath) }}" class="btn {{ class }}" title="{{ title }}">
        <span class="fa fa-trash-alt"></span>
        {{ label }}
    </a>
{% endmacro %}

{% macro button_open_modal_delete(id, title, pathAction, content, page = 1, titleAttribut = 'Supprimer') %}
    <button type="button" class="btn btn-outline-danger borderless" title="{{ titleAttribut }}"
            data-bs-target="#delete{{ id }}" data-bs-toggle="modal">
        <span class="fa fa-trash-alt"></span>
    </button>

    <div id="delete{{ id }}" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header d-flex align-items-start">
                    <h4 class="modal-title">
                        {{ title }}
                    </h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>                </div>
                <div class="modal-body">
                    {{ content | nl2br | raw }}
                </div>
                <div class="modal-footer">
                    {{ _self.cancelBtnModal() }}

                    <form method="post" action="{{ path(pathAction, {id: id, page: page}) }}" style="display: inline-block">
                        <input type="hidden" name="_method" value="DELETE">
                        <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ id) }}">
                        <button type="submit" class="btn btn-danger">
                            <span class="fa fa-trash-alt"></span>
                            Supprimer
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
{%- endmacro -%}

{% macro button_open_modal_post(id, title, content, pathAction, icon = "fa fa-paper-plane", btn_title = "Envoyer",
    confirmMessage = '<span class="fas fa-exclamation-circle"></span> Confirmer' ) %}
    <button type="button" class="btn btn-outline-warning borderless" title="{{ btn_title }}"
            data-bs-target="#post{{ id }}" data-bs-toggle="modal">
        <span class="{{ icon }}"></span>
    </button>

    <div id="post{{ id }}" class="modal fade" role="dialog" data-bs-backdrop="static">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header d-flex align-items-start">
                    <h4 class="modal-title">
                        {{ title }}
                    </h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>                </div>
                <div class="modal-body">
                    {{ content }}
                </div>
                <div class="modal-footer">
                    {{ _self.cancelBtnModal() }}

                    <form method="post" action="{{ path(pathAction, {id: id}) }}" style="display: inline-block">
                        <input type="hidden" name="_token" value="{{ csrf_token('postForm' ~ id) }}">
                        <button type="submit" class="btn btn-danger submit_post">
                            {{ confirmMessage | raw }}
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
{%- endmacro -%}


{% macro button_open_modal_post(id, title, content, pathAction, icon = "fa fa-paper-plane", btn_title = "Envoyer",
    confirmMessage = '<span class="fas fa-exclamation-circle"></span> Confirmer' ) %}
    <button type="button" class="btn btn-outline-warning borderless" title="{{ btn_title }}"
            data-bs-target="#post{{ id }}" data-bs-toggle="modal">
        <span class="{{ icon }}"></span>
    </button>

    <div id="post{{ id }}" class="modal fade" role="dialog" data-bs-backdrop="static">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header align-items-start">
                    <h4 class="modal-title">
                        {{ title }}
                    </h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>                </div>
                <div class="modal-body">
                    {{ content }}
                </div>
                <div class="modal-footer">
                    {{ _self.cancelBtnModal() }}

                    <form method="post" action="{{ path(pathAction, {id: id}) }}" style="display: inline-block">
                        <input type="hidden" name="_token" value="{{ csrf_token('postForm' ~ id) }}">
                        <button type="submit" class="btn btn-danger submit_post">
                            {{ confirmMessage | raw }}
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
{%- endmacro -%}




{% macro button_top_open_modal_post(title, content, pathAction, icon, btn_description = "Envoyer",
    confirmMessage = '<span class="fas fa-exclamation-circle"></span> Confirmer' ) %}

    {% set htmlId = random() %}

    <button type="button" class="btn btn-outline-primary" title="{{ btn_description }}"
            data-bs-target="#post{{ htmlId }}" data-bs-toggle="modal">
        <span class="{{ icon }}"></span>
        {{ btn_description }}
    </button>

    <div id="post{{ htmlId }}" class="modal fade" role="dialog" data-bs-backdrop="static">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header align-items-start">
                    <h4 class="modal-title">
                        {{ title }}
                    </h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>                </div>
                <div class="modal-body">
                    {{ content }}
                </div>
                <div class="modal-footer">
                    {{ _self.cancelBtnModal() }}

                    <form method="post" action="{{ path(pathAction) }}"
                          style="display: inline-block">
                        <input type="hidden" name="_token" value="{{ csrf_token('postForm') }}">
                        <button type="submit" class="btn btn-danger submit_post">
                            {{ confirmMessage | raw }}
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
{%- endmacro -%}

{% macro btnInvalidePasswordWithModal(title, content, pathAction, btn_description = "Invalidation des mots de passe") %}
    {% set htmlId = random() %}

    <button type="button" class="btn btn-outline-primary" title="{{ btn_description }}"
            data-bs-target="#post{{ htmlId }}" data-bs-toggle="modal">
        <span class="fa-passwd-reset fa-stack small">
            <i class="fa fa-sync-alt fa-stack-2x"></i>
            <i class="fa fa-lock fa-stack-1x small font-weight-bold"></i>
        </span>
        {{ btn_description }}
    </button>

    <div id="post{{ htmlId }}" class="modal fade" role="dialog" data-bs-backdrop="static">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header align-items-start">
                    <h4 class="modal-title">
                        {{ title }}
                    </h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>                </div>
                <div class="modal-body">
                    {{ content }}
                </div>
                <div class="modal-footer">
                    {{ _self.cancelBtnModal() }}

                    <form method="post" action="{{ path(pathAction) }}" style="display: inline-block">
                        <input type="hidden" name="_token" value="{{ csrf_token('postForm') }}">
                        <button type="submit" class="btn btn-danger submit_post">
                            <span class="fas fa-exclamation-circle"></span>
                            Invalider
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
{% endmacro %}

{% macro btnReloadPasswordWithModal(id, title, pathAction, content, page = 1) %}
    <button type="button" class="btn btn-outline-primary borderless stacked" title="Réinitialisation du mot de passe de l'utilisateur"
            data-bs-target="#modalReload{{ id }}" data-bs-toggle="modal">
        <span class="fa-passwd-reset fa-stack small">
            <i class="fa fa-sync-alt fa-stack-2x"></i>
            <i class="fa fa-lock fa-stack-1x small font-weight-bold"></i>
        </span>
    </button>

    <div id="modalReload{{ id }}" tabindex="-1" class="modal fade" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header align-items-start">
                    <h4 class="modal-title">{{ title }}</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>                </div>
                <div class="modal-body">
                    {{ content }}
                </div>

                <div class="modal-footer">
                    {{ _self.cancelBtnModal() }}

                    <form method="post" action="{{ path(pathAction, {id: id, page: page}) }}"
                          style="display: inline-block">
                        <input type="hidden" name="_method" value="POST">
                        <button type="submit" class="btn btn-primary">
                            <span class="fas fa-sync-alt"></span>
                            Réinitialisation
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
{% endmacro %}

{% macro cancelBtnModal(cancelName = 'Annuler') %}
    <button type="button" class="btn btn-link" data-bs-dismiss="modal">
        <span class="fa fa-times"></span>
        Annuler
    </button>
{% endmacro %}
