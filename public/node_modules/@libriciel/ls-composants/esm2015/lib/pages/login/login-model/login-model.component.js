/**
 * @fileoverview added by tsickle
 * Generated from: lib/pages/login/login-model/login-model.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, ElementRef, HostListener, Input, ViewChild } from '@angular/core';
import { DomSanitizer } from '@angular/platform-browser';
import { defaultConfiguration } from '../login-config/login-config.model';
export class LoginModelComponent {
    /**
     * @param {?} _DomSanitizationService
     */
    constructor(_DomSanitizationService) {
        this._DomSanitizationService = _DomSanitizationService;
        this._visualConfiguration = defaultConfiguration;
    }
    /**
     * @param {?} config
     * @return {?}
     */
    set visualConfiguration(config) {
        this._visualConfiguration = typeof config === 'string' ? JSON.parse(config) : config;
        this.getImageDimensions(this._visualConfiguration.imgData);
    }
    /**
     * @param {?} file
     * @return {?}
     */
    getImageDimensions(file) {
        /** @type {?} */
        const i = new Image();
        i.onload = (/**
         * @return {?}
         */
        () => {
            this.imgSize = { w: i.width, h: i.height };
            this.handleImgPositionning();
        });
        i.src = file;
    }
    /**
     * @return {?}
     */
    handleImgPositionning() {
        if (this.imgSize !== null) {
            /** @type {?} */
            const w = this.imgEl.nativeElement.offsetWidth;
            /** @type {?} */
            const h = this.imgEl.nativeElement.offsetHeight;
            /** @type {?} */
            let finalSize;
            /** @type {?} */
            let width = '90%';
            /** @type {?} */
            let height = '90%';
            if (this.imgSize.w > this.imgSize.h) {
                finalSize = (w * 0.9 * this.imgSize.h) / (h * this.imgSize.w) * 100;
                height = finalSize + '%';
                if (finalSize > 90) {
                    width = 'auto';
                    height = '90%';
                }
            }
            else {
                finalSize = (h * 0.9 * this.imgSize.w) / (w * this.imgSize.h) * 100;
                width = finalSize + '%';
                if (finalSize > 90) {
                    height = 'auto';
                    width = '90%';
                }
            }
            this.imgEl.nativeElement.style['background-size'] = width + ' ' + height;
        }
    }
}
LoginModelComponent.decorators = [
    { type: Component, args: [{
                selector: 'ls-login-model',
                template: "<main class=\"connection-page\">\n  <section class=\"main\">\n    <div [style.background-color]=\"_visualConfiguration.colorBackground\"\n         [style.color]=\"_visualConfiguration.colorText\"\n         [style.display]=\"_visualConfiguration.showCustom ? '': 'none'\"\n         class=\"coll-side\">\n      <div #imgcontainer class=\"img-container\" [ngStyle]=\"{'background-image': 'url(&quot;' + _visualConfiguration.imgData + '&quot;)'}\">\n\n      </div>\n      <div class=\"sub-txt\">\n        <span>{{_visualConfiguration.subText}}</span>\n      </div>\n    </div>\n    <div class=\"form-side\">\n\n      <div class=\"form-content\" [ngClass]=\"_visualConfiguration.showInformation && _visualConfiguration.informationText ? 'form-content-padding' : ''\">\n        <div class=\"soft-logo\">\n          <img id=\"libriciel-logo\" [src]=\"logo\" alt=\"Image du Libriciel\" src=\"\">\n        </div>\n\n        <ng-content></ng-content>\n\n      </div>\n    </div>\n  </section>\n  <section *ngIf=\"_visualConfiguration.showInformation && _visualConfiguration.informationText\" class=\"floating-message\">\n    <div [ngClass]=\"'alert-' + _visualConfiguration.informationType\" class=\"alert\">\n      <i [class.fa-exclamation-circle]=\"_visualConfiguration.informationType === 'warning'\"\n         [class.fa-exclamation-triangle]=\"_visualConfiguration.informationType === 'danger'\"\n         [class.fa-info-circle]=\"_visualConfiguration.informationType === 'info'\"\n         class=\"fa fa-lg\"\n      ></i>\n      {{_visualConfiguration.informationText}}</div>\n  </section>\n</main>\n\n\n\n\n",
                styles: [".hidden{display:none!important}.soft-logo{text-align:center;height:100%}.connection-page{height:calc(100vh - 40px);position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}span.btn{cursor:pointer}.main{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex}.coll-side{width:30%;display:-ms-grid;display:grid;-ms-grid-rows:1fr 1rem 40%;-ms-grid-columns:1fr;grid-template:\"img\" 1fr \"text\" 40%/1fr;justify-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;grid-gap:1rem}.coll-side .img-container{-ms-grid-row:1;-ms-grid-column:1;grid-area:img;max-width:calc(100% - 2rem);width:100%;height:100%;text-align:center;background-position:bottom center;background-repeat:no-repeat}.coll-side .sub-txt{-ms-grid-row:3;-ms-grid-column:1;grid-area:text;max-width:100%;text-align:center;padding:1rem;-ms-flex-item-align:baseline;align-self:baseline}.form-side{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;background-color:#fff}.form-side .form-content-padding{padding-top:100px!important}.form-side .form-content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:500px;padding-top:50px;padding-bottom:50px}.form-side .form-content .page-title{font-size:1rem;font-weight:400;padding-top:3rem;padding-bottom:1.5rem;text-align:center}.floating-message{left:10%;right:10%;top:5%;position:absolute}.floating-message div{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding-top:1rem;padding-bottom:1rem}.floating-message div i{padding-right:20px}#libriciel-logo{height:auto;width:100%;max-width:100%}@media screen and (max-width:800px){.coll-side{display:none}}"]
            }] }
];
/** @nocollapse */
LoginModelComponent.ctorParameters = () => [
    { type: DomSanitizer }
];
LoginModelComponent.propDecorators = {
    logo: [{ type: Input }],
    imgEl: [{ type: ViewChild, args: ['imgcontainer',] }],
    visualConfiguration: [{ type: Input }],
    handleImgPositionning: [{ type: HostListener, args: ['window:resize',] }]
};
if (false) {
    /** @type {?} */
    LoginModelComponent.prototype.logo;
    /** @type {?} */
    LoginModelComponent.prototype._visualConfiguration;
    /** @type {?} */
    LoginModelComponent.prototype.imgEl;
    /** @type {?} */
    LoginModelComponent.prototype.imgSize;
    /** @type {?} */
    LoginModelComponent.prototype._DomSanitizationService;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9naW4tbW9kZWwuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGxpYnJpY2llbC9scy1jb21wb3NhbnRzLyIsInNvdXJjZXMiOlsibGliL3BhZ2VzL2xvZ2luL2xvZ2luLW1vZGVsL2xvZ2luLW1vZGVsLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBQyxTQUFTLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFDLE1BQU0sZUFBZSxDQUFDO0FBQ3BGLE9BQU8sRUFBQyxZQUFZLEVBQUMsTUFBTSwyQkFBMkIsQ0FBQztBQUN2RCxPQUFPLEVBQUMsb0JBQW9CLEVBQW1CLE1BQU0sb0NBQW9DLENBQUM7QUFPMUYsTUFBTSxPQUFPLG1CQUFtQjs7OztJQUc5QixZQUFtQix1QkFBcUM7UUFBckMsNEJBQXVCLEdBQXZCLHVCQUF1QixDQUFjO1FBR3hELHlCQUFvQixHQUFxQixvQkFBb0IsQ0FBQztJQUY5RCxDQUFDOzs7OztJQU9ELElBQ0ksbUJBQW1CLENBQUMsTUFBTTtRQUM1QixJQUFJLENBQUMsb0JBQW9CLEdBQUcsT0FBTyxNQUFNLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7UUFDckYsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUM3RCxDQUFDOzs7OztJQUVELGtCQUFrQixDQUFDLElBQUk7O2NBQ2YsQ0FBQyxHQUFHLElBQUksS0FBSyxFQUFFO1FBQ3JCLENBQUMsQ0FBQyxNQUFNOzs7UUFBRyxHQUFHLEVBQUU7WUFDZCxJQUFJLENBQUMsT0FBTyxHQUFHLEVBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxNQUFNLEVBQUMsQ0FBQztZQUN6QyxJQUFJLENBQUMscUJBQXFCLEVBQUUsQ0FBQztRQUMvQixDQUFDLENBQUEsQ0FBQztRQUNGLENBQUMsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDO0lBQ2YsQ0FBQzs7OztJQUdELHFCQUFxQjtRQUNuQixJQUFLLElBQUksQ0FBQyxPQUFPLEtBQUssSUFBSSxFQUFHOztrQkFDckIsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLFdBQVc7O2tCQUN4QyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsWUFBWTs7Z0JBRTNDLFNBQVM7O2dCQUNULEtBQUssR0FBUSxLQUFLOztnQkFDbEIsTUFBTSxHQUFRLEtBQUs7WUFFdkIsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRTtnQkFDbkMsU0FBUyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO2dCQUNwRSxNQUFNLEdBQUcsU0FBUyxHQUFHLEdBQUcsQ0FBQztnQkFDekIsSUFBSSxTQUFTLEdBQUcsRUFBRSxFQUFFO29CQUNsQixLQUFLLEdBQUcsTUFBTSxDQUFDO29CQUNmLE1BQU0sR0FBRyxLQUFLLENBQUM7aUJBQ2hCO2FBQ0Y7aUJBQU07Z0JBQ0wsU0FBUyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO2dCQUNwRSxLQUFLLEdBQUcsU0FBUyxHQUFHLEdBQUcsQ0FBQztnQkFDeEIsSUFBSSxTQUFTLEdBQUcsRUFBRSxFQUFFO29CQUNsQixNQUFNLEdBQUcsTUFBTSxDQUFDO29CQUNoQixLQUFLLEdBQUcsS0FBSyxDQUFDO2lCQUNmO2FBQ0Y7WUFDRCxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsaUJBQWlCLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLE1BQU0sQ0FBQztTQUMxRTtJQUNILENBQUM7OztZQTFERixTQUFTLFNBQUM7Z0JBQ1QsUUFBUSxFQUFFLGdCQUFnQjtnQkFDMUIsK2tEQUEyQzs7YUFFNUM7Ozs7WUFQTyxZQUFZOzs7bUJBU2pCLEtBQUs7b0JBT0wsU0FBUyxTQUFDLGNBQWM7a0NBR3hCLEtBQUs7b0NBZUwsWUFBWSxTQUFDLGVBQWU7Ozs7SUF6QjdCLG1DQUFjOztJQUtkLG1EQUE4RDs7SUFFOUQsb0NBQTZDOztJQUM3QyxzQ0FBZ0M7O0lBTnBCLHNEQUE0QyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q29tcG9uZW50LCBFbGVtZW50UmVmLCBIb3N0TGlzdGVuZXIsIElucHV0LCBWaWV3Q2hpbGR9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtEb21TYW5pdGl6ZXJ9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXInO1xuaW1wb3J0IHtkZWZhdWx0Q29uZmlndXJhdGlvbiwgTG9naW5Db25maWdNb2RlbH0gZnJvbSAnLi4vbG9naW4tY29uZmlnL2xvZ2luLWNvbmZpZy5tb2RlbCc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2xzLWxvZ2luLW1vZGVsJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2xvZ2luLW1vZGVsLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vbG9naW4tbW9kZWwuY29tcG9uZW50LnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBMb2dpbk1vZGVsQ29tcG9uZW50ICB7XG4gIEBJbnB1dCgpIGxvZ287XG5cbiAgY29uc3RydWN0b3IocHVibGljIF9Eb21TYW5pdGl6YXRpb25TZXJ2aWNlOiBEb21TYW5pdGl6ZXIpIHtcbiAgfVxuXG4gIF92aXN1YWxDb25maWd1cmF0aW9uOiBMb2dpbkNvbmZpZ01vZGVsID0gZGVmYXVsdENvbmZpZ3VyYXRpb247XG5cbiAgQFZpZXdDaGlsZCgnaW1nY29udGFpbmVyJykgaW1nRWw6IEVsZW1lbnRSZWY7XG4gIGltZ1NpemU6IHt3OiBudW1iZXIsIGg6IG51bWJlcn07XG5cbiAgQElucHV0KClcbiAgc2V0IHZpc3VhbENvbmZpZ3VyYXRpb24oY29uZmlnKSB7XG4gICAgdGhpcy5fdmlzdWFsQ29uZmlndXJhdGlvbiA9IHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShjb25maWcpIDogY29uZmlnO1xuICAgIHRoaXMuZ2V0SW1hZ2VEaW1lbnNpb25zKHRoaXMuX3Zpc3VhbENvbmZpZ3VyYXRpb24uaW1nRGF0YSk7XG4gIH1cblxuICBnZXRJbWFnZURpbWVuc2lvbnMoZmlsZSkge1xuICAgIGNvbnN0IGkgPSBuZXcgSW1hZ2UoKTtcbiAgICBpLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIHRoaXMuaW1nU2l6ZSA9IHt3OiBpLndpZHRoLCBoOiBpLmhlaWdodH07XG4gICAgICB0aGlzLmhhbmRsZUltZ1Bvc2l0aW9ubmluZygpO1xuICAgIH07XG4gICAgaS5zcmMgPSBmaWxlO1xuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcignd2luZG93OnJlc2l6ZScpXG4gIGhhbmRsZUltZ1Bvc2l0aW9ubmluZygpIHtcbiAgICBpZiAoIHRoaXMuaW1nU2l6ZSAhPT0gbnVsbCApIHtcbiAgICAgIGNvbnN0IHcgPSB0aGlzLmltZ0VsLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICBjb25zdCBoID0gdGhpcy5pbWdFbC5uYXRpdmVFbGVtZW50Lm9mZnNldEhlaWdodDtcblxuICAgICAgbGV0IGZpbmFsU2l6ZTtcbiAgICAgIGxldCB3aWR0aDogYW55ID0gJzkwJSc7XG4gICAgICBsZXQgaGVpZ2h0OiBhbnkgPSAnOTAlJztcblxuICAgICAgaWYgKHRoaXMuaW1nU2l6ZS53ID4gdGhpcy5pbWdTaXplLmgpIHtcbiAgICAgICAgZmluYWxTaXplID0gKHcgKiAwLjkgKiB0aGlzLmltZ1NpemUuaCkgLyAoaCAqIHRoaXMuaW1nU2l6ZS53KSAqIDEwMDtcbiAgICAgICAgaGVpZ2h0ID0gZmluYWxTaXplICsgJyUnO1xuICAgICAgICBpZiAoZmluYWxTaXplID4gOTApIHtcbiAgICAgICAgICB3aWR0aCA9ICdhdXRvJztcbiAgICAgICAgICBoZWlnaHQgPSAnOTAlJztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmluYWxTaXplID0gKGggKiAwLjkgKiB0aGlzLmltZ1NpemUudykgLyAodyAqIHRoaXMuaW1nU2l6ZS5oKSAqIDEwMDtcbiAgICAgICAgd2lkdGggPSBmaW5hbFNpemUgKyAnJSc7XG4gICAgICAgIGlmIChmaW5hbFNpemUgPiA5MCkge1xuICAgICAgICAgIGhlaWdodCA9ICdhdXRvJztcbiAgICAgICAgICB3aWR0aCA9ICc5MCUnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmltZ0VsLm5hdGl2ZUVsZW1lbnQuc3R5bGVbJ2JhY2tncm91bmQtc2l6ZSddID0gd2lkdGggKyAnICcgKyBoZWlnaHQ7XG4gICAgfVxuICB9XG59XG4iXX0=