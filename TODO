Create theme ROOT soit à la creation de la structure soit le creer lorss du premier enregistrement s'il n'existe pas



Faire une deifrerence entre la denomination remve et delete.
le delete faisant unn remove + flush



CHANGER LE USERINTERFACE du l'utilisateur pour avoir des methodes en plus !!

configuration snappy

$pdf = $snappy->getOutputFromHtml($html, array(
    'orientation' => 'landscape',
    'enable-javascript' => true,
    'javascript-delay' => 1000,
    'no-stop-slow-scripts' => true,
    'no-background' => false,
    'lowquality' => false,
    'page-height' => 124 * 3,
    'page-width'  => 192 * 3,
    'encoding' => 'utf-8',
    'images' => true,
    'cookie' => array(),
    'dpi' => 300,
    'enable-external-links' => true,
    'enable-internal-links' => true


ANOUK
-----------------------
Supprimer
Suppression de la séance
dans le modal preciser le nom de l'object nom se la seance par exemple

selectOrButton s'il y a peu d'element (a voir)


Regarder les data transformers pour eviter cela dans les forms. Faire plutot un type custom !
$builder->add('structure', HiddenType::class, [
            'data' => $options['structure'],
        ]);

        $builder->get("structure")->addModelTransformer(new CallbackTransformer(
            fn () =>  '',
            fn () =>  $options['structure']
        ));




Tous les path dans la bd devrait etre a partir d'un chemin donnée. Conseil Epommateau !


Creer le cache pour postgres (bénéfique à tous)

pg_dump --dbname=postgresql://idelibre:idelibre@127.0.0.1:5432/idelibre_docker --schema-only --file "/tmp/docker2.sql"

bin/console doctrine:database:create --env test
bin/console doctrine:migration:migrate --env test
bin/console doctrine:fixture:load --env test


SET CONSTRAINTS ALL DEFERRED

SET CONSTRAINTS ALL IMMEDIATE


FIXER les ID des roles (cela sera bien plus simple !)

FAIRE un DTO pour le typetype
Comme ça on aun object qui as les 3 propriétés : associatedActors, associatedGuests et associatedAdministratives



Peut etre mettre des tooltips o des popever partout par exemple sur profile la liste des profiles avec explication


https://idelibre-4.recette.libriciel.net


pour les enums
https://github.com/myclabs/php-enum
sinon un bete splenum ferait peut etre l'affaire ?


FAUT Une TYPe peut avoir plusisuer email template.
Par exemple un pour la convocation et un pour l'invitation !!!!
Ou alors on decide qu el emessage d'invitaiton est générique à tous les type des séances.
Possibilité et surment plus simple à gérer (voir ce que font les collectivité sur nos instance !)


/**
     * @ORM\OneToOne(targetEntity=EmailTemplate::class, mappedBy="type")
     */
    private $emailTemplate;





Faire un type custom pour le suffixType et eviter ça
$builder->get('username')->addModelTransformer(new CallbackTransformer(
            fn ($username) => preg_replace('/@.*/', '', $username),
            fn ($username) => $username . '@.' . $this->getStructureSuffix($options['structure'])
        ));
et d'avoir a detailler le form




TODO enlever la category de convocation , on peut faire le distingo avec l'user associé



Avec le css genere par webpack il va falloir gerer le pb de ça dans template/generate
<link rel="stylesheet" href="{{ absolute_url(asset('assets/bootstrap/css/il-bootstrap-4.css')) }}">




creer un fakeClientnotifier implement ClientNotifier interface . logs in test



modification ratachement du theme  -> A voir


gerer les presenece  D'abord les elus puis separateur  puis administratifs  -> Pas mauvaise idée mais pas le temps la !


bouton ouvrir nouelle onglet client elus


WARNING VERIFIER Migration sequence !!!!!! semble ne fonctionner qu'ave un create sequence seul dans sa migration !
C'et la migration d'apres qui 'lenlever.'
Si on le fait avec une annotion il le prend pour la primary key ce con !
//CREATE SEQUENCE IF NOT EXISTS party_legacy_seq INCREMENT BY 1 MINVALUE 1 START 1;  à cahque start comme ça c'et reglé !


IMPORT CSV : L'import est lent Cela est du à l'ecodage des passwords !

Peut Etre faire un preference pour les strcutremanager et un autre pour les user normaux ?


5) Gpe politique : bouton "tous les élus" | Faire disparaître l'élu quand sélectionné ? (+ message d'erreur à la création) A voir n'existe pas aujourd'hui
9) Doc zip : si mm nom annexe et projet >> l'annexe n'apparait pas dans le zip  (Par construction du doc. si on gare les noms d'origine ça fait forcement ça)
1) Super admin : pas de vue sur les infos de la coll quand se connecte à la coll  (Vu que tu peux les avoir via le menu de structure ya pas trop d'interet)
13) Com'Elus : Mettre la date de la séance dans le texte d'accompagnement (A VOIR plus tard)
14) Com'Elus : Voir le nom de la structure dans le connecteur   (Comelus ne le retourne pas pour le moment à faire)


WARNING !
update or delete on table "user" violates foreign key constraint "fk_2e443ef2f675f31b" on table "annotation"




Marque blanch : name, editor, css, images, version

TODO functionnalité blacklisted n'est pas convocable
TODO champlibre ?



 ->setCategory(EmailTemplate::CATEGORY_RESET_PASSWORD)
            ->setContent(DefaultTemplate::FORGET_PASSWORD);
