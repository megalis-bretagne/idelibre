{% extends 'form.html.twig' %}
{% import 'macro/_forms.html.twig' as macro %}

{% block pageTitle 'Modifier un utilisateur' %}

{% block pageActions %}
    {{ macro.backButton('user_index') }}
{% endblock %}

{% block pageForm %}
    {{ form_start(form) }}

    {{ form_row(form.gender) }}
    {{ form_row(form.firstName) }}
    {{ form_row(form.lastName) }}

    {{ form_label(form.username) }}

    <div class="d-flex justify-content-start mb-3">
        {{ form_widget(form.username) }}
        <div class="form-control borderless">
            <b class="text-ls-dark">@{{ suffix }}</b>
        </div>
    </div>

    {{ form_widget(form) }}



    <div class="float-end">
        {% block pageSaveReturn %}
            {{ macro.save('user_index') }}
        {% endblock %}
    </div>
    {{ form_end(form) }}

    &nbsp;
    <div class="mt-5">
        Invalider les connexions de consultation de séance

        {{ macro.button_open_modal_post(
            user.id,
            'Ivalider la connexion',
            'Voulez-vous detruire toute les sessions de connexion de cet élu ?',
            'jwt_invalidate',
            'fas fa-sign-out-alt fa-lg',
            'deconnecter'
        ) }}
    </div>
{% endblock %}

{% block javascripts %}
    {{ encore_entry_script_tags('enable-select2') }}
    {{ encore_entry_script_tags('showPasswordEntropy') }}
    {{ encore_entry_script_tags('setPasswordUser') }}
{% endblock %}
