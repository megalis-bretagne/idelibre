{% extends 'base_login.html.twig' %}

{% block title %}Confirmation de présence à la séance{% endblock %}

{% block body %}


    <div class="form-side">

        <div class="form-content" style="width: 600px">
            <div class="soft-logo">
                <img id="libriciel-logo" alt="Image du Libriciel"
                     height="10" width="10"
                     src="{{ asset('assets/img/application_logo.svg') }}">
            </div>

            <section class="mt-5">
                <div class="d-flex">
                    <h1 class="h3 mb-4"> {{ user.firstName}} {{ user.lastName}}
                        {% if not attendance %}  <div class="badge badge-secondary">Présence à définir</div>
                            {% elseif attendance == 'absent' %} <div class="badge badge-danger" id=""> Absent </div>
                            {% else %} <div class="badge badge-info"> Présent </div>
                        {% endif %}
                    </h1>

                </div>
                <p><b>Séance : </b> {{  sitting.name }}</p>
                <p><b>Date de la séance : </b> {{  sitting.date | date('d/m/y : H:i', timezone)}}</p>


                <h2 class="h4 mt-5">Confirmez-vous être présent ? </h2>

                <form action="{{ path('app_attendance_confirmation', {'token' : token}) }}" method="post" id="presenceForm">

                    <div class="mb-3 mt-1" id="isPresent">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="attendance" id="confirmPresence" value="present" >
                            <label class="form-check-label" for="confirmPresence">
                                Je confirme ma présence
                            </label>
                        </div>

                        <div class="ml-4 mt-2" id="presentiel">
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="isRemote" id="onSite" value="true" checked >
                                <label class="form-check-label" for="onSite">
                                    En présentiel
                                </label>
                            </div>

                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="isRemote" id="remote" value="false">
                                <label class="form-check-label" for="remote">
                                    A distance
                                </label>
                            </div>
                        </div>
                    </div>


                    <div class="isNotPresent mt-3">

                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="attendance" id="confirmAbsence" value="absent">
                            <label class="form-check-label" for="confirmAbsence">
                                Je serai absent
                            </label>
                        </div>


                        <div class="form-group mt-2 ml-4" id="deputy">
                            <label for="exampleInputEmail1">En cas d'absence, mon mandataire sera :</label>
                            <input type="text" class="form-control" id="mandataire" aria-describedby="mandataire" placeholder="Michel Dupuis" name="deputy">
                        </div>
                    </div>


                    <input type="submit" class="btn btn-primary mt-5" name="attendanceConfirmation" value="Enregistrer">

                </form>
            </section>

        </div>
    </div>

    {% block javascripts %}
        {{ encore_entry_script_tags('attendance') }}
    {% endblock %}

{% endblock %}
